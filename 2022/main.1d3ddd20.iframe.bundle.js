/*! For license information please see main.1d3ddd20.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./packages/nightingale-navigation/src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_NightingaleNavigation_x,_NightingaleNavigation_dontDispatch,_NightingaleNavigation_svg,_NightingaleNavigation_displaystartLabel,_NightingaleNavigation_displayendLabel,_NightingaleNavigation_axis,_NightingaleNavigation_brushG,_NightingaleNavigation_polygon,_NightingaleNavigation_xAxis,_NightingaleNavigation_viewport,_NightingaleNavigation_highlighted,_NightingaleNavigation_margins,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_navigation_NightingaleNavigation=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleNavigation,_withManager);var _super=_createSuper(NightingaleNavigation);function NightingaleNavigation(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NightingaleNavigation),_this=_super.call(this),_NightingaleNavigation_x.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_dontDispatch.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_svg.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displaystartLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displayendLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_axis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_brushG.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_polygon.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_xAxis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_viewport.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_margins.set(_assertThisInitialized(_this),void 0),_this.rulerstart=1,_this["show-highlight"]=!1,Object(tslib_es6.b)(_assertThisInitialized(_this),_NightingaleNavigation_x,null,"f"),Object(tslib_es6.b)(_assertThisInitialized(_this),_NightingaleNavigation_dontDispatch,!1,"f"),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleNavigation,[{key:"createNavRuler",value:function createNavRuler(){var _this2=this;Object(tslib_es6.b)(this,_NightingaleNavigation_x,Object(src.c)().range([this["margin-left"],this.width-this["margin-right"]]).domain([this.rulerstart,this.rulerstart+(this.length||1)]),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_svg,Object(src.d)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_xAxis,Object(src.a)(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_displaystartLabel,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","start-label").attr("x",this["margin-left"]).attr("y",this.height-this["margin-bottom"]-2).style("font-family","sans-serif").style("font-size",12),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_displayendLabel,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","end-label").attr("x",this.width-this["margin-right"]).attr("y",this.height-this["margin-bottom"]-2).attr("text-anchor","end").style("font-family","sans-serif").style("font-size",12),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_axis,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","x axis").call(Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_viewport,Object(src.b)().extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]).on("brush",(function(_ref){var selection=_ref.selection,transform=_ref.transform;selection&&Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f")&&(_this2["display-start"]=Math.round(100*Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f").invert(selection[0]))/100,_this2["display-end"]=Math.round(100*Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f").invert(selection[1]))/100,Object(tslib_es6.a)(_this2,_NightingaleNavigation_dontDispatch,"f")||_this2.dispatchEvent(new CustomEvent("change",{detail:{"display-end":_this2["display-end"],"display-start":_this2["display-start"],extra:{transform:transform}},bubbles:!0,cancelable:!0})),_this2.updateLabels(),_this2.updatePolygon())})),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_brushG,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","brush").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")),"f"),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f").move,[Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),Object(tslib_es6.b)(this,_NightingaleNavigation_polygon,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_margins,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","margin"),"f"),this.createHighlight(),this.renderD3()}},{key:"createHighlight",value:function createHighlight(){Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f")&&(Object(tslib_es6.b)(this,_NightingaleNavigation_highlighted,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","highlighted"),"f"),this.updateHighlight())}},{key:"onWidthChange",value:function onWidthChange(){var _a,_b,_c;Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").range([this["margin-left"],this.width-this["margin-right"]]),null===(_a=Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f"))||void 0===_a||_a.attr("width",this.width),null===(_b=Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f"))||void 0===_b||_b.extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]),Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")&&(null===(_c=Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f"))||void 0===_c||_c.call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f"))))}},{key:"render",value:function render(){return Object(lit.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}},{key:"updated",value:function updated(changedProperties){changedProperties.has("width")&&this.onWidthChange(),this.renderD3(),_get(_getPrototypeOf(NightingaleNavigation.prototype),"updated",this).call(this,changedProperties)}},{key:"firstUpdated",value:function firstUpdated(){this.createNavRuler()}},{key:"renderD3",value:function renderD3(){Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_axis,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")&&(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").domain([this.rulerstart,this.rulerstart+(this.length||1)-1]),Object(tslib_es6.a)(this,_NightingaleNavigation_axis,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")),this.updatePolygon(),this.updateLabels(),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f")&&(Object(tslib_es6.b)(this,_NightingaleNavigation_dontDispatch,!0,"f"),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f").move,[Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),Object(tslib_es6.b)(this,_NightingaleNavigation_dontDispatch,!1,"f")),this.updateHighlight(),this.renderMarginOnGroup(Object(tslib_es6.a)(this,_NightingaleNavigation_margins,"f")))}},{key:"updateHighlight",value:function updateHighlight(){var _this3=this;if(Object(tslib_es6.a)(this,_NightingaleNavigation_highlighted,"f")){var s1=Object(src.c)().domain([this["display-start"]||1,(this["display-end"]||this.length||1)+1]).range([this["margin-left"],this.width-this["margin-right"]]),s2=Object(src.c)().domain([this.rulerstart,this.rulerstart+(this.length||1)]).range([this["margin-left"],this.width-this["margin-right"]]),highlighs=Object(tslib_es6.a)(this,_NightingaleNavigation_highlighted,"f").selectAll("polygon").data(this["show-highlight"]?this.highlightedRegion.segments:[]);highlighs.enter().append("polygon").attr("class","highlight-polygon").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("points",(function(segment){var start=Math.max(1,segment.start),end=Math.min(_this3.length||1,segment.end)+1;return s2(start)+","+_this3.height/2+"\n        "+s2(end)+","+_this3.height/2+"\n        "+s1(end)+","+_this3.height+"\n        "+s1(start)+","+_this3.height})),highlighs.exit().remove();var highlighsRect=Object(tslib_es6.a)(this,_NightingaleNavigation_highlighted,"f").selectAll("rect").data(this["show-highlight"]?this.highlightedRegion.segments:[]);highlighsRect.enter().append("rect").attr("class","highlight-rectangle").style("pointer-events","none").merge(highlighsRect).attr("fill",this["highlight-color"]).attr("x",(function(segment){return s2(Math.max(1,segment.start))})).attr("width",(function(segment){return s2(Math.min(_this3.length||1,segment.end)+1)-s2(Math.max(1,segment.start))})).attr("y",this["margin-top"]).attr("height",this.height/2),highlighsRect.exit().remove()}}},{key:"updateLabels",value:function updateLabels(){Object(tslib_es6.a)(this,_NightingaleNavigation_displaystartLabel,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_displaystartLabel,"f").attr("x",this["margin-left"]).text(Math.round(this.getStart())),Object(tslib_es6.a)(this,_NightingaleNavigation_displayendLabel,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_displayendLabel,"f").attr("x",this.width-this["margin-right"]).text(Math.round(this.getEnd()))}},{key:"updatePolygon",value:function updatePolygon(){Object(tslib_es6.a)(this,_NightingaleNavigation_polygon,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_polygon,"f").attr("points",Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart())+","+this.height/2+"\n        "+Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())+","+this.height/2+"\n        "+(this.width-this["margin-right"])+","+this.height+"\n        "+this["margin-left"]+","+this.height)}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||1}}]),NightingaleNavigation}(Object(nightingale_new_core_src.e)(Object(nightingale_new_core_src.h)(Object(nightingale_new_core_src.f)(Object(nightingale_new_core_src.g)(Object(nightingale_new_core_src.c)(Object(nightingale_new_core_src.d)(nightingale_new_core_src.b)))))));_NightingaleNavigation_x=new WeakMap,_NightingaleNavigation_dontDispatch=new WeakMap,_NightingaleNavigation_svg=new WeakMap,_NightingaleNavigation_displaystartLabel=new WeakMap,_NightingaleNavigation_displayendLabel=new WeakMap,_NightingaleNavigation_axis=new WeakMap,_NightingaleNavigation_brushG=new WeakMap,_NightingaleNavigation_polygon=new WeakMap,_NightingaleNavigation_xAxis=new WeakMap,_NightingaleNavigation_viewport=new WeakMap,_NightingaleNavigation_highlighted=new WeakMap,_NightingaleNavigation_margins=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:Number})],nightingale_navigation_NightingaleNavigation.prototype,"rulerstart",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Boolean})],nightingale_navigation_NightingaleNavigation.prototype,"show-highlight",void 0);nightingale_navigation_NightingaleNavigation=Object(tslib_es6.c)([Object(decorators.a)("nightingale-navigation")],nightingale_navigation_NightingaleNavigation)},"./packages/nightingale-new-core/src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return src_withDimensions})),__webpack_require__.d(__webpack_exports__,"g",(function(){return src_withPosition})),__webpack_require__.d(__webpack_exports__,"f",(function(){return src_withMargin})),__webpack_require__.d(__webpack_exports__,"h",(function(){return src_withResizable})),__webpack_require__.d(__webpack_exports__,"e",(function(){return src_withManager})),__webpack_require__.d(__webpack_exports__,"d",(function(){return src_withHighlight})),__webpack_require__.d(__webpack_exports__,"i",(function(){return src_withZoom})),__webpack_require__.d(__webpack_exports__,"a",(function(){return bindEvents}));__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var src_withDimensions=function withDimensions(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:800,height:100},WithDimensions=function(_superClass){_inherits(WithDimensions,_superClass);var _super=_createSuper(WithDimensions);function WithDimensions(){var _this;return _classCallCheck(this,WithDimensions),(_this=_super.apply(this,arguments)).width=options.width,_this.height=options.height,_this}return _createClass(WithDimensions)}(superClass);return Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithDimensions.prototype,"width",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithDimensions.prototype,"height",void 0),WithDimensions};function withPosition_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withPosition_createClass(Constructor,protoProps,staticProps){return protoProps&&withPosition_defineProperties(Constructor.prototype,protoProps),staticProps&&withPosition_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withPosition_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withPosition_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withPosition_setPrototypeOf(subClass,superClass)}function withPosition_setPrototypeOf(o,p){return withPosition_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withPosition_setPrototypeOf(o,p)}function withPosition_createSuper(Derived){var hasNativeReflectConstruct=function withPosition_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withPosition_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withPosition_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withPosition_possibleConstructorReturn(this,result)}}function withPosition_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withPosition_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withPosition_getPrototypeOf(o){return withPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withPosition_getPrototypeOf(o)}var src_withPosition=function withPosition(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"display-start":1,"display-end":-1,length:0},WithPosition=function(_superClass){withPosition_inherits(WithPosition,_superClass);var _super=withPosition_createSuper(WithPosition);function WithPosition(){var _this;return withPosition_classCallCheck(this,WithPosition),(_this=_super.apply(this,arguments)).length=options.length,_this["display-start"]=options["display-start"],_this["display-end"]=options["display-end"],_this}return withPosition_createClass(WithPosition)}(superClass);return Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"length",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"display-start",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"display-end",void 0),WithPosition};__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");function withMargin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withMargin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withMargin_createClass(Constructor,protoProps,staticProps){return protoProps&&withMargin_defineProperties(Constructor.prototype,protoProps),staticProps&&withMargin_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withMargin_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withMargin_setPrototypeOf(subClass,superClass)}function withMargin_setPrototypeOf(o,p){return withMargin_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withMargin_setPrototypeOf(o,p)}function withMargin_createSuper(Derived){var hasNativeReflectConstruct=function withMargin_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withMargin_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withMargin_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withMargin_possibleConstructorReturn(this,result)}}function withMargin_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withMargin_assertThisInitialized(self)}function withMargin_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withMargin_getPrototypeOf(o){return withMargin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withMargin_getPrototypeOf(o)}var src_withMargin=function withMargin(superClass){var _WithMargin_created,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"margin-top":0,"margin-bottom":0,"margin-left":10,"margin-right":10,"margin-color":"#FFFFFFDD"},WithMargin=function(_withDimensions){withMargin_inherits(WithMargin,_withDimensions);var _super=withMargin_createSuper(WithMargin);function WithMargin(){var _this;return withMargin_classCallCheck(this,WithMargin),(_this=_super.apply(this,arguments))["margin-top"]=options["margin-top"],_this["margin-bottom"]=options["margin-bottom"],_this["margin-left"]=options["margin-left"],_this["margin-right"]=options["margin-right"],_this["margin-color"]=options["margin-color"],_WithMargin_created.set(withMargin_assertThisInitialized(_this),!1),_this}return withMargin_createClass(WithMargin,[{key:"getWidthWithMargins",value:function getWidthWithMargins(){return this.width?this.width-this["margin-left"]-this["margin-right"]:0}},{key:"getHeightWithMargins",value:function getHeightWithMargins(){return this.height?this.height-this["margin-top"]-this["margin-bottom"]:0}},{key:"renderMarginOnGroup",value:function renderMarginOnGroup(g){g&&(Object(tslib_es6.a)(this,_WithMargin_created,"f")||(g.append("rect").style("pointer-events","none").attr("class","margin-left").attr("x",0),g.append("rect").style("pointer-events","none").attr("class","margin-right"),g.append("rect").style("pointer-events","none").attr("class","margin-top").attr("width",this.width).attr("x",0).attr("y",0),g.append("rect").style("pointer-events","none").attr("class","margin-bottom").attr("width",this.width).attr("x",0),Object(tslib_es6.b)(this,_WithMargin_created,!0,"f")),g.select("rect.margin-left").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("width",this["margin-left"]),g.select("rect.margin-right").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("x",this.width-this["margin-right"]).attr("width",this["margin-right"]),g.select("rect.margin-top").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this["margin-top"]),g.select("rect.margin-bottom").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("y",this.height-this["margin-bottom"]).attr("height",this["margin-bottom"]))}}]),WithMargin}(src_withDimensions(superClass));return _WithMargin_created=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-top",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-bottom",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-left",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-right",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithMargin.prototype,"margin-color",void 0),WithMargin};__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");function withResizable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withResizable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withResizable_getPrototypeOf(object)););return object}function withResizable_setPrototypeOf(o,p){return withResizable_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withResizable_setPrototypeOf(o,p)}function withResizable_createSuper(Derived){var hasNativeReflectConstruct=function withResizable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withResizable_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withResizable_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withResizable_possibleConstructorReturn(this,result)}}function withResizable_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withResizable_assertThisInitialized(self)}function withResizable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withResizable_getPrototypeOf(o){return withResizable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withResizable_getPrototypeOf(o)}var src_withResizable=function withResizable(superClass){var _WithResizable_observer,WithResizable=function(_withDimensions){!function withResizable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withResizable_setPrototypeOf(subClass,superClass)}(WithResizable,_withDimensions);var _super=withResizable_createSuper(WithResizable);function WithResizable(){var _this;withResizable_classCallCheck(this,WithResizable);for(var _len=arguments.length,rest=new Array(_len),_key=0;_key<_len;_key++)rest[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(rest)),_WithResizable_observer.set(withResizable_assertThisInitialized(_this),void 0),_this.onResize=_this.onResize.bind(withResizable_assertThisInitialized(_this)),_this.listenForResize=_this.listenForResize.bind(withResizable_assertThisInitialized(_this)),_this}return function withResizable_createClass(Constructor,protoProps,staticProps){return protoProps&&withResizable_defineProperties(Constructor.prototype,protoProps),staticProps&&withResizable_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithResizable,[{key:"connectedCallback",value:function connectedCallback(){this.listenForResize(),_get(withResizable_getPrototypeOf(WithResizable.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){Object(tslib_es6.a)(this,_WithResizable_observer,"f")&&Object(tslib_es6.a)(this,_WithResizable_observer,"f").unobserve(this),_get(withResizable_getPrototypeOf(WithResizable.prototype),"disconnectedCallback",this).call(this)}},{key:"onResize",value:function onResize(){this.width=this.offsetWidth}},{key:"listenForResize",value:function listenForResize(){Object(tslib_es6.b)(this,_WithResizable_observer,new ResizeObserver(this.onResize),"f"),Object(tslib_es6.a)(this,_WithResizable_observer,"f").observe(this)}}]),WithResizable}(src_withDimensions(superClass));return _WithResizable_observer=new WeakMap,WithResizable};function withManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withManager_get(){return withManager_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withManager_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withManager_get.apply(this,arguments)}function withManager_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withManager_getPrototypeOf(object)););return object}function withManager_setPrototypeOf(o,p){return withManager_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withManager_setPrototypeOf(o,p)}function withManager_createSuper(Derived){var hasNativeReflectConstruct=function withManager_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withManager_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withManager_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withManager_possibleConstructorReturn(this,result)}}function withManager_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withManager_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withManager_getPrototypeOf(o){return withManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withManager_getPrototypeOf(o)}var src_withManager=function withManager(superClass){var WithManager=function(_superClass){!function withManager_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withManager_setPrototypeOf(subClass,superClass)}(WithManager,_superClass);var _super=withManager_createSuper(WithManager);function WithManager(){return withManager_classCallCheck(this,WithManager),_super.apply(this,arguments)}return function withManager_createClass(Constructor,protoProps,staticProps){return protoProps&&withManager_defineProperties(Constructor.prototype,protoProps),staticProps&&withManager_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithManager,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;this.closest("nightingale-manager")&&customElements.whenDefined("nightingale-manager").then((function(){_this.manager=_this.closest("nightingale-manager"),_this.manager&&_this.manager.register(_this)})),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.manager&&this.manager.unregister(this),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"disconnectedCallback",this).call(this)}}]),WithManager}(superClass);return WithManager};__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-nan.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Region_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Region_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Region=function(){function Region(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$min=_ref.min,min=void 0===_ref$min?-1/0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1/0:_ref$max;Region_classCallCheck(this,Region),this.segments=[],this.max=max,this.min=min,this.regionString=null}return function Region_createClass(Constructor,protoProps,staticProps){return protoProps&&Region_defineProperties(Constructor.prototype,protoProps),staticProps&&Region_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Region,[{key:"encode",value:function encode(){var _this=this,full=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(_ref2){var start=_ref2.start,end=_ref2.end;return full?start+":"+end:(start===_this.min?"":start)+":"+(end===_this.max?"":end)})).join(",")}},{key:"decode",value:function decode(regionString){var _this2=this;void 0!==regionString&&(this.regionString=regionString),this.regionString?this.segments=this.regionString.split(",").map((function(region){var _region$split2=_slicedToArray(region.split(":"),3),_start=_region$split2[0],_end=_region$split2[1];if(void 0!==_region$split2[2])throw new Error("there should be at most 1 ':' per region. Region: "+region);var start=_start?Number(_start):_this2.min,end=_end?Number(_end):_this2.max;if(start>end){var _ref3=[end,start];start=_ref3[0],end=_ref3[1]}if(start<_this2.min&&(start=_this2.min),end>_this2.max&&(end=_this2.max),Number.isNaN(start))throw new Error("The parsed value of "+_start+" is NaN. Region: "+region);if(Number.isNaN(end))throw new Error("The parsed value of "+_end+" is NaN. Region: "+region);return{start:start,end:end}})):this.segments=[]}}]),Region}();function withHighlight_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withHighlight_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withHighlight_createClass(Constructor,protoProps,staticProps){return protoProps&&withHighlight_defineProperties(Constructor.prototype,protoProps),staticProps&&withHighlight_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withHighlight_get(){return withHighlight_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withHighlight_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withHighlight_get.apply(this,arguments)}function withHighlight_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withHighlight_getPrototypeOf(object)););return object}function withHighlight_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withHighlight_setPrototypeOf(subClass,superClass)}function withHighlight_setPrototypeOf(o,p){return withHighlight_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withHighlight_setPrototypeOf(o,p)}function withHighlight_createSuper(Derived){var hasNativeReflectConstruct=function withHighlight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withHighlight_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withHighlight_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withHighlight_possibleConstructorReturn(this,result)}}function withHighlight_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withHighlight_assertThisInitialized(self)}function withHighlight_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withHighlight_getPrototypeOf(o){return withHighlight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withHighlight_getPrototypeOf(o)}var combineRegions=function combineRegions(region1,region2){return region1?region2?region1+","+region2:region1:region2},src_withHighlight=function withHighlight(superClass){var _WithHighlight_fixedHighlight,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{highlight:null,"highlight-color":"#FFEB3B66"},WithHighlight=function(_superClass){withHighlight_inherits(WithHighlight,_superClass);var _super=withHighlight_createSuper(WithHighlight);function WithHighlight(){var _this;withHighlight_classCallCheck(this,WithHighlight);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).highlight=options.highlight,_this["highlight-color"]=options["highlight-color"],_WithHighlight_fixedHighlight.set(withHighlight_assertThisInitialized(_this),void 0),_this.highlightedRegion=new Region({min:1}),Object(tslib_es6.b)(withHighlight_assertThisInitialized(_this),_WithHighlight_fixedHighlight,null,"f"),_this}return withHighlight_createClass(WithHighlight,[{key:"fixedHighlight",set:function set(value){Object(tslib_es6.b)(this,_WithHighlight_fixedHighlight,value,"f"),this.highlightedRegion.decode(combineRegions(this.highlight||"",Object(tslib_es6.a)(this,_WithHighlight_fixedHighlight,"f")||"")),this.updateHighlight()}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){withHighlight_get(withHighlight_getPrototypeOf(WithHighlight.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),"null"===newValue&&(newValue=null),oldValue!==newValue&&("length"===name&&(this.highlightedRegion.max=Number(newValue)),"highlight"===name&&this.highlightedRegion.decode(combineRegions(newValue||"",Object(tslib_es6.a)(this,_WithHighlight_fixedHighlight,"f")||"")))}},{key:"updateHighlight",value:function updateHighlight(){}}]),WithHighlight}(superClass);return _WithHighlight_fixedHighlight=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithHighlight.prototype,"highlight",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithHighlight.prototype,"highlight-color",void 0),WithHighlight},src=__webpack_require__("./node_modules/d3/src/index.js");function withZoom_slicedToArray(arr,i){return function withZoom_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function withZoom_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function withZoom_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return withZoom_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return withZoom_arrayLikeToArray(o,minLen)}(arr,i)||function withZoom_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function withZoom_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function withZoom_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withZoom_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withZoom_get(){return withZoom_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withZoom_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withZoom_get.apply(this,arguments)}function withZoom_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withZoom_getPrototypeOf(object)););return object}function withZoom_setPrototypeOf(o,p){return withZoom_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withZoom_setPrototypeOf(o,p)}function withZoom_createSuper(Derived){var hasNativeReflectConstruct=function withZoom_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withZoom_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withZoom_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withZoom_possibleConstructorReturn(this,result)}}function withZoom_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withZoom_assertThisInitialized(self)}function withZoom_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withZoom_getPrototypeOf(o){return withZoom_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withZoom_getPrototypeOf(o)}var src_withZoom=function withZoom(superClass){var WithZoom=function(_withMargin){!function withZoom_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withZoom_setPrototypeOf(subClass,superClass)}(WithZoom,_withMargin);var _super=withZoom_createSuper(WithZoom);function WithZoom(){var _this;withZoom_classCallCheck(this,WithZoom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_this=_super.call.apply(_super,[this].concat(args)))._updateScaleDomain=_this._updateScaleDomain.bind(withZoom_assertThisInitialized(_this)),_this._initZoom=_this._initZoom.bind(withZoom_assertThisInitialized(_this)),_this.zoomed=_this.zoomed.bind(withZoom_assertThisInitialized(_this)),_this._applyZoomTranslation=_this.applyZoomTranslation.bind(withZoom_assertThisInitialized(_this));var aboutToApply=!1;return _this.applyZoomTranslation=function(){aboutToApply||(aboutToApply=!0,requestAnimationFrame((function(){aboutToApply=!1,_this._applyZoomTranslation()})))},_this}return function withZoom_createClass(Constructor,protoProps,staticProps){return protoProps&&withZoom_defineProperties(Constructor.prototype,protoProps),staticProps&&withZoom_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithZoom,[{key:"connectedCallback",value:function connectedCallback(){this._updateScaleDomain(),this.xScale&&(this._originXScale=this.xScale.copy()),this._initZoom(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"disconnectedCallback",this).call(this)}},{key:"xScale",get:function get(){return this._xScale},set:function set(xScale){this._xScale=xScale}},{key:"zoom",get:function get(){return this._zoom}},{key:"svg",get:function get(){return this._svg},set:function set(svg){svg&&this._zoom&&(this._svg=svg,svg.call(this._zoom),this.applyZoomTranslation())}},{key:"_updateScaleDomain",value:function _updateScaleDomain(){this.xScale=Object(src.c)().domain([1,(this.length||0)+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function _initZoom(){this._zoom=Object(src.e)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){var _a;withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),this.zoom&&("null"===newValue&&(newValue=null),oldValue!==newValue&&("length"===name&&(this._updateScaleDomain(),this._originXScale=null===(_a=this.xScale)||void 0===_a?void 0:_a.copy()),this.applyZoomTranslation()))}},{key:"zoomed",value:function zoomed(d3Event){var _a;this._originXScale&&(this.xScale=d3Event.transform.rescaleX(this._originXScale));var _ref2=withZoom_slicedToArray((null===(_a=null==this?void 0:this.xScale)||void 0===_a?void 0:_a.domain())||[0,0],2),start=_ref2[0],end=_ref2[1];!this.dontDispatch&&this.xScale&&this.dispatchEvent(new CustomEvent("change",{detail:{"display-start":Math.max(1,start),"display-end":Math.min(this.length||0,Math.max(end-1,start+1))},bubbles:!0,cancelable:!0}))}},{key:"applyZoomTranslation",value:function applyZoomTranslation(){if(this.svg&&this._originXScale){var k=Math.max(1,(this.length||0)/(1+(this["display-end"]||0)-(this["display-start"]||0))),dx=-this._originXScale(this["display-start"]||0);this.dontDispatch=!0,this.zoom&&this.svg.call(this.zoom.transform,src.f.scale(k).translate(dx,0)),this.dontDispatch=!1,this.zoomRefreshed()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"render",value:function render(){return this.applyZoomTranslation(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"getXFromSeqPosition",value:function getXFromSeqPosition(position){return this.xScale?this["margin-left"]+this.xScale(position):-1}},{key:"getSingleBaseWidth",value:function getSingleBaseWidth(){return this.xScale?this.xScale(2)-this.xScale(1):-1}}]),WithZoom}(src_withMargin(src_withPosition(src_withDimensions(superClass))));return WithZoom};function createEvent(type){var feature=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,withHighlight=arguments.length>2&&void 0!==arguments[2]&&arguments[2],withId=arguments.length>3&&void 0!==arguments[3]&&arguments[3],start=arguments.length>4?arguments[4]:void 0,end=arguments.length>5?arguments[5]:void 0,target=arguments.length>6?arguments[6]:void 0,event=arguments.length>7?arguments[7]:void 0,element=arguments.length>8?arguments[8]:void 0;feature&&(feature=(null==feature?void 0:feature.feature)||feature);var detail={eventType:type,feature:feature,target:target,parentEvent:event};return withHighlight&&((null==feature?void 0:feature.fragments)?detail.highlight=((null==feature?void 0:feature.fragments)||[]).map((function(fr){return fr.start+":"+fr.end})).join(","):(null==event?void 0:event.shiftKey)&&(null==element?void 0:element.highlight)?detail.highlight=element.highlight+","+start+":"+end:detail.highlight=start&&end?start+":"+end:void 0),withId&&(detail.selectedId=null==feature?void 0:feature.protvistaFeatureId),new CustomEvent("change",{detail:detail,bubbles:!0,cancelable:!0})}function bindEvents(feature,element){feature.on("mouseover",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("mouseover",datum,"onmouseover"===element.getAttribute("highlight-event"),!1,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event))})).on("mouseout",(function(){element.dispatchEvent(createEvent("mouseout",null,"onmouseover"===element.getAttribute("highlight-event")))})).on("click",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("click",datum,"onclick"===element.getAttribute("highlight-event"),!0,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event,element))}))}function nightingale_base_element_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_base_element_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function nightingale_base_element_setPrototypeOf(o,p){return nightingale_base_element_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_base_element_setPrototypeOf(o,p)}function nightingale_base_element_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_base_element_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_base_element_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_base_element_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_base_element_possibleConstructorReturn(this,result)}}function nightingale_base_element_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function nightingale_base_element_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function nightingale_base_element_getPrototypeOf(o){return nightingale_base_element_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_base_element_getPrototypeOf(o)}var NightingaleElement=function(_LitElement){!function nightingale_base_element_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_base_element_setPrototypeOf(subClass,superClass)}(NightingaleElement,_LitElement);var _super=nightingale_base_element_createSuper(NightingaleElement);function NightingaleElement(){return nightingale_base_element_classCallCheck(this,NightingaleElement),_super.apply(this,arguments)}return function nightingale_base_element_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_base_element_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_base_element_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleElement,[{key:"createRenderRoot",value:function createRenderRoot(){return this}}]),NightingaleElement}(__webpack_require__("./node_modules/lit/index.js").a),nightingale_base_element=NightingaleElement;__webpack_exports__.b=nightingale_base_element},"./packages/nightingale-track/src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _FeatureShape_instances,_FeatureShape_ftLength,_FeatureShape_ftHeight,_FeatureShape_ftWidth,FeatureShape_FeatureShape_getMiddleLine,FeatureShape_FeatureShape_getBrokenEnd,FeatureShape_FeatureShape_getBrokenStart,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js");__webpack_require__("./node_modules/core-js/modules/es.weak-set.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FeatureShape_FeatureShape=function(){function FeatureShape(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FeatureShape),_FeatureShape_instances.add(this),_FeatureShape_ftLength.set(this,1),_FeatureShape_ftHeight.set(this,1),_FeatureShape_ftWidth.set(this,1)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(FeatureShape,[{key:"shape2function",value:function shape2function(shape){var _this=this;switch(shape){case"rectangle":default:return function(){return _this.rectangle()};case"roundRectangle":return function(){return _this.roundRectangle()};case"line":return function(){return _this.line()};case"bridge":return function(){return _this.bridge()};case"diamond":return function(){return _this.diamond()};case"chevron":return function(){return _this.chevron()};case"catFace":return function(){return _this.catFace()};case"triangle":return function(){return _this.triangle()};case"wave":return function(){return _this.wave()};case"hexagon":return function(){return _this.hexagon()};case"pentagon":return function(){return _this.pentagon()};case"circle":return function(){return _this.circle()};case"arrow":return function(){return _this.arrow()};case"doubleBar":return function(){return _this.doubleBar()};case"discontinuosStart":return function(){return _this.discontinuosStart()};case"discontinuos":return function(){return _this.discontinuos()};case"discontinuosEnd":return function(){return _this.discontinuosEnd()};case"helix":return function(){return _this.helix()};case"strand":return function(){return _this.strand()}}}},{key:"getFeatureShape",value:function getFeatureShape(aaWidth,ftHeight,ftLength,shape){return shape=shape||"rectangle",Object(tslib_es6.b)(this,_FeatureShape_ftLength,ftLength,"f"),Object(tslib_es6.b)(this,_FeatureShape_ftHeight,ftHeight,"f"),Object(tslib_es6.b)(this,_FeatureShape_ftWidth,aaWidth*ftLength,"f"),this.shape2function(shape)()}},{key:"rectangle",value:function rectangle(){return"M0,0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"roundRectangle",value:function roundRectangle(){return"M6,0h"+(Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")-12)+",0a6,6 0 0 1 6,6v"+(Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")-12)+"a6,6 0 0 1 "+"-6,6h"+(12-Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f"))+"a6,6 0 0 1 "+"-6,"+"-6v"+(12-Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f"))+"a6,6 0 0 1 6,"+"-6Z"}},{key:"line",value:function line(){return"M0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2+" L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2}},{key:"bridge",value:function bridge(){return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?"M0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L0,0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",2L0,2Z":"M0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2+",0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/2+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"diamond",value:function diamond(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(m+5)+",5L"+m+",10L"+(m-5)+",5";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5):shape+"Z"}},{key:"chevron",value:function chevron(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",5L"+(5+m)+",0L"+(5+m)+",5L"+m+",10L"+(-5+m)+",5L"+(-5+m)+",0";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",5"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"catFace",value:function catFace(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",0L"+(-5+m)+",6L"+(-2+m)+",10L"+(2+m)+",10L"+(5+m)+",6L"+(5+m)+",0L"+(2+m)+",4L"+(-2+m)+",4";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+"M"+m+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"triangle",value:function triangle(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(5+m)+",10L"+(-5+m)+",10";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"wave",value:function wave(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+(-5+m)+",5A2.5,5 0 1,1 "+m+",5A2.5,5 0 1,0 "+(5+m)+",5";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"getPolygon",value:function getPolygon(sidesNumber){for(var polygon="M ",m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,i=0;i<sidesNumber;i++)polygon+=5*Math.cos(2*Math.PI*i/sidesNumber)+m+","+(5*Math.sin(2*Math.PI*i/sidesNumber)+5)+" ";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?polygon+" "+(5*Math.cos(0)+m)+","+(5*Math.sin(0)+5)+" "+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":polygon+"Z"}},{key:"hexagon",value:function hexagon(){return this.getPolygon(6)}},{key:"pentagon",value:function pentagon(){return this.getPolygon(5)}},{key:"circle",value:function circle(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,r=Math.sqrt(10/Math.PI),shape="M"+m+",0A"+r+","+r+" 0 1,1 "+m+",10A"+r+","+r+" 0 1,1 "+m+",0";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"arrow",value:function arrow(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-1+m)+",0L"+(-5+m)+",4L"+(-1+m)+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L"+m+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L"+(4+m)+",4";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"doubleBar",value:function doubleBar(){var m=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/2,shape="M"+m+",0L"+(-5+m)+",10L"+m+",10L"+(5+m)+",0";return 1!==Object(tslib_es6.a)(this,_FeatureShape_ftLength,"f")?shape+"L"+m+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getMiddleLine).call(this,5)+"Z":shape+"Z"}},{key:"discontinuosStart",value:function discontinuosStart(){return"M0,0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"L0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuos",value:function discontinuos(){return"M0,0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getBrokenEnd).call(this)+"L0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getBrokenStart).call(this)+"Z"}},{key:"discontinuosEnd",value:function discontinuosEnd(){return"M0,0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+",0"+Object(tslib_es6.a)(this,_FeatureShape_instances,"m",FeatureShape_FeatureShape_getBrokenEnd).call(this)+"L0,"+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"Z"}},{key:"helix",value:function helix(){for(var y=2.5,center=2.5,nw=Math.round(Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")/5),loop="",i=0;i<nw;i++){loop+="M"+(-2.5+center)+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+" C"+(center+y)+",7.5 "+(2.5+center)+","+y+" "+center+", 0 C"+(center-y)+","+y+" "+center+",7.5 "+(2.5+center)+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f"),center+=5}return loop}},{key:"strand",value:function strand(){var rl=0;Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")>5&&(rl=Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")-5);var qh=Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/4;return"M0,"+qh+"L"+rl+","+qh+"L"+rl+","+3*qh+"L0,"+3*qh+"L0,"+qh+("M"+rl+",0L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+rl+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")+"Z")}}],[{key:"isContinuous",value:function isContinuous(shape){return"bridge"!==shape.toLowerCase()}}]),FeatureShape}();_FeatureShape_ftLength=new WeakMap,_FeatureShape_ftHeight=new WeakMap,_FeatureShape_ftWidth=new WeakMap,_FeatureShape_instances=new WeakSet,FeatureShape_FeatureShape_getMiddleLine=function _FeatureShape_getMiddleLine(centerx){return"M0,"+centerx+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+centerx+"Z"},FeatureShape_FeatureShape_getBrokenEnd=function _FeatureShape_getBrokenEnd(){var qh=Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/4;return"L"+(Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")-qh)+","+qh+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+2*qh+"L"+(Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")-qh)+","+3*qh+"L"+Object(tslib_es6.a)(this,_FeatureShape_ftWidth,"f")+","+Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")},FeatureShape_FeatureShape_getBrokenStart=function _FeatureShape_getBrokenStart(){var qh=Object(tslib_es6.a)(this,_FeatureShape_ftHeight,"f")/4;return"L"+qh+","+3*qh+"L0,"+2*qh+"L"+qh+","+qh};__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js");function DefaultLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _NonOverlappingLayout_rows,DefaultLayout=function(){function DefaultLayout(_ref){var layoutHeight=_ref.layoutHeight,_ref$padding=_ref.padding,padding=void 0===_ref$padding?1:_ref$padding,_ref$minHeight=_ref.minHeight,minHeight=void 0===_ref$minHeight?17:_ref$minHeight;!function DefaultLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLayout),this.padding=padding,this.minHeight=minHeight,this.layoutHeight=layoutHeight,this.features=[]}return function DefaultLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&DefaultLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&DefaultLayout_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DefaultLayout,[{key:"init",value:function init(features){this.features=features}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var featureHeight=this.getFeatureHeight();return this.layoutHeight/2-featureHeight/2}},{key:"getFeatureHeight",value:function getFeatureHeight(){return Math.min(this.layoutHeight,this.minHeight)-this.padding}}]),DefaultLayout}();function NonOverlappingLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var featureOvelapsInRow=function featureOvelapsInRow(feature,row){return row.some((function(rowFeature){return function featuresOverlap(feature1,feature2){return!(Number(feature2.start)>Number(feature1.end)||Number(feature2.end)<Number(feature1.start))}(feature,rowFeature)}))},NonOverlappingLayout_NonOverlappingLayout=function(_DefaultLayout){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NonOverlappingLayout,_DefaultLayout);var _super=_createSuper(NonOverlappingLayout);function NonOverlappingLayout(options){var _this;return function NonOverlappingLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NonOverlappingLayout),(_this=_super.call(this,options)).featuresMap=new Map,_NonOverlappingLayout_rows.set(_assertThisInitialized(_this),void 0),_this.rowHeight=0,_this.minHeight=15,Object(tslib_es6.b)(_assertThisInitialized(_this),_NonOverlappingLayout_rows,[],"f"),_this}return function NonOverlappingLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&NonOverlappingLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&NonOverlappingLayout_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NonOverlappingLayout,[{key:"init",value:function init(features){var _this2=this;features.forEach((function(feature){var rowIndex=Object(tslib_es6.a)(_this2,_NonOverlappingLayout_rows,"f").findIndex((function(row){return!featureOvelapsInRow(feature,row)}));rowIndex>=0?(Object(tslib_es6.a)(_this2,_NonOverlappingLayout_rows,"f")[rowIndex].push(feature),_this2.featuresMap.set(feature,rowIndex)):(Object(tslib_es6.a)(_this2,_NonOverlappingLayout_rows,"f").push([feature]),_this2.featuresMap.set(feature,Object(tslib_es6.a)(_this2,_NonOverlappingLayout_rows,"f").length-1))})),this.rowHeight=Math.min(this.layoutHeight/Object(tslib_es6.a)(this,_NonOverlappingLayout_rows,"f").length,this.minHeight)}},{key:"getOffset",value:function getOffset(){return Object(tslib_es6.a)(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight<this.layoutHeight?this.layoutHeight/2-Object(tslib_es6.a)(this,_NonOverlappingLayout_rows,"f").length*this.rowHeight/2:0}},{key:"getFeatureYPos",value:function getFeatureYPos(feature){var rowNumber=this.featuresMap.get(feature);return this.getOffset()+this.rowHeight*rowNumber+2*this.padding}},{key:"getFeatureHeight",value:function getFeatureHeight(){return this.rowHeight-2*this.padding}}]),NonOverlappingLayout}(DefaultLayout);_NonOverlappingLayout_rows=new WeakMap;__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var _templateObject,_NightingaleTrack_featureShape,_NightingaleTrack_layoutObj,_NightingaleTrack_originalData,_NightingaleTrack_data,_NightingaleTrack_seq_g,_NightingaleTrack_highlighted,_NightingaleTrack_margins,NightingaleTrack_1,config={CHAIN:{name:"chain",label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},TRANSIT:{name:"transit peptide",label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},INIT_MET:{name:"initiator methionine",label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},PROPEP:{name:"propeptide",label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},PEPTIDE:{name:"peptide",label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},SIGNAL:{name:"signal peptide",label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},HELIX:{name:"helix",label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},STRAND:{name:"strand",label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},TURN:{name:"turn",label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},DISULFID:{name:"disulfide bond",label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},CROSSLNK:{name:"cross-link",label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},REGION:{name:"region of interest",label:"Region of interest",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},COILED:{name:"coiled-coil region",label:"Coiled-coil region",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},MOTIF:{name:"short sequence motif",label:"Short sequence motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},REPEAT:{name:"repeat",label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},CA_BIND:{name:"calcium-binding region",label:"Calcium-binding region",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},DNA_BIND:{name:"DNA-binding region",label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},DOMAIN:{name:"other domain of interest",label:"Other domain of interest",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},ZN_FING:{name:"zinc finger region",label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},NP_BIND:{name:"nucleotide-binding region",label:"Nucleotide-binding region",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},METAL:{name:"metal ion-binding site",label:"Metal ion-binding site",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},SITE:{name:"other site of interest",label:"Other site of interest",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},BINDING:{name:"other binding site",label:"Other binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},ACT_SITE:{name:"active site",label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},MOD_RES:{name:"Post-translationally modified residue",label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},LIPID:{name:"lipid moiety-binding region",label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},CARBOHYD:{name:"glycosylation site",label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},COMPBIAS:{name:"compositionally biased region",label:"Compositionally biased region",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},CONFLICT:{name:"sequence conflict",label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},NON_CONS:{name:"non-consecutive residues",label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},NON_TER:{name:"non-terminal residue",label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},UNSURE:{name:"unsure residue",label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},NON_STD:{name:"non-standard amino acid",label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},MUTAGEN:{name:"mutagenesis site",label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},TOPO_DOM:{name:"topological domain",label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},TRANSMEM:{name:"transmembrane region",label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},INTRAMEM:{name:"intramembrane region",label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},VAR_SEQ:{name:"splice variant",label:"Splice variant",tooltip:"",shape:"rectangle",color:"#CC11CC"},VARIANT:{name:"sequence variant",label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},UNIQUE:{name:"unique",label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},NON_UNIQUE:{name:"non-unique",label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},ANTIGEN:{name:"antigen",label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},PDBE_COVER:{name:"pdbe coverage",label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}},ConfigHelper_getShapeByType=function getShapeByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].shape;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info?info.shape:"rectangle"},ConfigHelper_getColorByType=function getColorByType(type){if(type.toUpperCase()in config)return config[type.toUpperCase()].color;var info=Object.values(config).find((function(typeInfo){return typeInfo.name.toUpperCase()===type.toUpperCase()}));return info||console.log(type),info?info.color:"black"};function nightingale_track_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_track_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=nightingale_track_getPrototypeOf(object)););return object}function nightingale_track_setPrototypeOf(o,p){return nightingale_track_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_track_setPrototypeOf(o,p)}function nightingale_track_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_track_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_track_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_track_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_track_possibleConstructorReturn(this,result)}}function nightingale_track_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return nightingale_track_assertThisInitialized(self)}function nightingale_track_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function nightingale_track_getPrototypeOf(o){return nightingale_track_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_track_getPrototypeOf(o)}var nightingale_track_NightingaleTrack=NightingaleTrack_1=function(_withManager){!function nightingale_track_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_track_setPrototypeOf(subClass,superClass)}(NightingaleTrack,_withManager);var _super=nightingale_track_createSuper(NightingaleTrack);function NightingaleTrack(){var _this;return nightingale_track_classCallCheck(this,NightingaleTrack),_this=_super.apply(this,arguments),_NightingaleTrack_featureShape.set(nightingale_track_assertThisInitialized(_this),new FeatureShape_FeatureShape),_NightingaleTrack_layoutObj.set(nightingale_track_assertThisInitialized(_this),void 0),_NightingaleTrack_originalData.set(nightingale_track_assertThisInitialized(_this),[]),_NightingaleTrack_data.set(nightingale_track_assertThisInitialized(_this),[]),_this.filters=null,_NightingaleTrack_seq_g.set(nightingale_track_assertThisInitialized(_this),void 0),_NightingaleTrack_highlighted.set(nightingale_track_assertThisInitialized(_this),void 0),_NightingaleTrack_margins.set(nightingale_track_assertThisInitialized(_this),void 0),_this}return function nightingale_track_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_track_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_track_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleTrack,[{key:"getLayout",value:function getLayout(){return"non-overlapping"===String(this.layout).toLowerCase()?new NonOverlappingLayout_NonOverlappingLayout({layoutHeight:this.height}):new DefaultLayout({layoutHeight:this.height})}},{key:"connectedCallback",value:function connectedCallback(){_get(nightingale_track_getPrototypeOf(NightingaleTrack.prototype),"connectedCallback",this).call(this),Object(tslib_es6.b)(this,_NightingaleTrack_layoutObj,this.getLayout(),"f"),Object(tslib_es6.a)(this,_NightingaleTrack_data,"f")&&this.createTrack()}},{key:"processData",value:function processData(data){Object(tslib_es6.b)(this,_NightingaleTrack_originalData,NightingaleTrack_1.normalizeLocations(data),"f")}},{key:"data",get:function get(){return Object(tslib_es6.a)(this,_NightingaleTrack_data,"f")},set:function set(data){this.processData(data),this.applyFilters(),Object(tslib_es6.b)(this,_NightingaleTrack_layoutObj,this.getLayout(),"f"),this.createTrack()}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){_get(nightingale_track_getPrototypeOf(NightingaleTrack.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),"layout"===name&&(this.applyFilters(),Object(tslib_es6.b)(this,_NightingaleTrack_layoutObj,this.getLayout(),"f"),this.createTrack())}},{key:"getFeatureColor",value:function getFeatureColor(f){var _a,_b;return f.color?f.color||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.color)?(null===(_b=null==f?void 0:f.feature)||void 0===_b?void 0:_b.color)||"gray":this.color?this.color:f.type?ConfigHelper_getColorByType(f.type):(null==f?void 0:f.feature.type)?ConfigHelper_getColorByType(f.feature.type):"gray"}},{key:"getFeatureFillColor",value:function getFeatureFillColor(f){var _a;return f.fill?f.fill||"gray":(null===(_a=null==f?void 0:f.feature)||void 0===_a?void 0:_a.fill)?f.feature.fill||"gray":this.getFeatureColor(f)}},{key:"getShape",value:function getShape(f){return f.shape?f.shape||"rectangle":(null==f?void 0:f.feature.shape)?f.feature.shape||"rectangle":this.shape?this.shape:f.type?ConfigHelper_getShapeByType(f.type):f.feature.type?ConfigHelper_getShapeByType(f.feature.type):"rectangle"}},{key:"createTrack",value:function createTrack(){var _a,_b;Object(tslib_es6.a)(this,_NightingaleTrack_data,"f")&&(null===(_a=Object(tslib_es6.a)(this,_NightingaleTrack_layoutObj,"f"))||void 0===_a||_a.init(Object(tslib_es6.a)(this,_NightingaleTrack_data,"f")),null===(_b=this.svg)||void 0===_b||_b.selectAll("g").remove(),this.svg=Object(src.d)(this).selectAll("svg").attr("width",this.width).attr("height",this.height),this.svg&&(Object(tslib_es6.b)(this,_NightingaleTrack_seq_g,this.svg.append("g").attr("class","sequence-features"),"f"),Object(tslib_es6.b)(this,_NightingaleTrack_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),Object(tslib_es6.b)(this,_NightingaleTrack_margins,this.svg.append("g").attr("class","margin"),"f"),this.createFeatures()))}},{key:"createFeatures",value:function createFeatures(){var _a,_this2=this;if(Object(tslib_es6.a)(this,_NightingaleTrack_seq_g,"f")){var fragmentGroup=Object(tslib_es6.a)(this,_NightingaleTrack_seq_g,"f").selectAll("g.feature-group").data(Object(tslib_es6.a)(this,_NightingaleTrack_data,"f")).enter().append("g").attr("class","feature-group").attr("id",(function(d){return"g_"+d.accession})).selectAll("g.location-group").data((function(d){return(d.locations||[]).map((function(loc){return Object.assign({},loc,{feature:d})}))})).enter().append("g").attr("class","location-group").selectAll("g.fragment-group").data((function(d){return d.fragments.map((function(loc){return Object.assign({},loc,{feature:d.feature})}))})).enter().append("g").attr("class","fragment-group");fragmentGroup.append("path").attr("class",(function(f){return _this2.getShape(f)+" feature"})).attr("d",(function(f){var _a;return Object(tslib_es6.a)(_this2,_NightingaleTrack_featureShape,"f").getFeatureShape(_this2.getSingleBaseWidth(),(null===(_a=Object(tslib_es6.a)(_this2,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureHeight())||0,f.end?f.end-f.start+1:1,_this2.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this2.getXFromSeqPosition(f.start)+","+((null===(_a=Object(tslib_es6.a)(_this2,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill",(function(f){return _this2.getFeatureFillColor(f)})).attr("stroke",(function(f){return _this2.getFeatureColor(f)})).style("fill-opacity",(function(_ref){var feature=_ref.feature;return feature.opacity?feature.opacity:.9})).style("stroke-opacity",(function(_ref2){var feature=_ref2.feature;return feature.opacity?feature.opacity:.9})),fragmentGroup.append("rect").attr("class","outer-rectangle feature").attr("width",(function(f){return _this2.getSingleBaseWidth()*(f.end?f.end-f.start+1:1)})).attr("height",(null===(_a=Object(tslib_es6.a)(this,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this2.getXFromSeqPosition(f.start)+","+((null===(_a=Object(tslib_es6.a)(_this2,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"})).attr("fill","transparent").attr("stroke","transparent").call(nightingale_new_core_src.a,this)}}},{key:"applyFilters",value:function applyFilters(){(this.filters||[]).length<=0&&Object(tslib_es6.b)(this,_NightingaleTrack_data,Object(tslib_es6.a)(this,_NightingaleTrack_originalData,"f"),"f")}},{key:"refresh",value:function refresh(){var _a,_this3=this;if(this.xScale&&Object(tslib_es6.a)(this,_NightingaleTrack_seq_g,"f")){var fragmentG=Object(tslib_es6.a)(this,_NightingaleTrack_seq_g,"f").selectAll("g.fragment-group").data(Object(tslib_es6.a)(this,_NightingaleTrack_data,"f").reduce((function(acc,f){return acc.concat((f.locations||[]).reduce((function(acc2,e){return acc2.concat(e.fragments.map((function(loc){return Object.assign({},loc,{feature:f})})))}),[]))}),[]));fragmentG.selectAll("path.feature").attr("d",(function(f){var _a;return Object(tslib_es6.a)(_this3,_NightingaleTrack_featureShape,"f").getFeatureShape(_this3.getSingleBaseWidth(),(null===(_a=Object(tslib_es6.a)(_this3,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureHeight())||0,(null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1,_this3.getShape(f))})).attr("transform",(function(f){var _a;return"translate("+_this3.getXFromSeqPosition(f.start||0)+","+(null===(_a=Object(tslib_es6.a)(_this3,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureYPos(f.feature))+")"})),fragmentG.selectAll("rect.outer-rectangle").attr("width",(function(f){return _this3.getSingleBaseWidth()*((null==f?void 0:f.end)&&(null==f?void 0:f.start)?f.end-f.start+1:1)})).attr("height",(null===(_a=Object(tslib_es6.a)(this,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureHeight())||0).attr("transform",(function(f){var _a;return"translate("+_this3.getXFromSeqPosition(f.start||0)+","+((null===(_a=Object(tslib_es6.a)(_this3,_NightingaleTrack_layoutObj,"f"))||void 0===_a?void 0:_a.getFeatureYPos(f.feature))||0)+")"}))}this.updateHighlight(),this.renderMarginOnGroup(Object(tslib_es6.a)(this,_NightingaleTrack_margins,"f"))}},{key:"updateHighlight",value:function updateHighlight(){var _this4=this;if(Object(tslib_es6.a)(this,_NightingaleTrack_highlighted,"f")){var highlighs=Object(tslib_es6.a)(this,_NightingaleTrack_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this4.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this4.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.refresh()}},{key:"firstUpdated",value:function firstUpdated(){this.createTrack()}},{key:"render",value:function render(){return Object(lit.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}],[{key:"normalizeLocations",value:function normalizeLocations(data){return data.map((function(obj){var locations=obj.locations,start=obj.start,end=obj.end;return locations?obj:Object.assign(obj,{locations:[{fragments:[{start:start,end:end}]}]})}))}}]),NightingaleTrack}(Object(nightingale_new_core_src.e)(Object(nightingale_new_core_src.i)(Object(nightingale_new_core_src.h)(Object(nightingale_new_core_src.f)(Object(nightingale_new_core_src.g)(Object(nightingale_new_core_src.c)(Object(nightingale_new_core_src.d)(nightingale_new_core_src.b))))))));_NightingaleTrack_featureShape=new WeakMap,_NightingaleTrack_layoutObj=new WeakMap,_NightingaleTrack_originalData=new WeakMap,_NightingaleTrack_data=new WeakMap,_NightingaleTrack_seq_g=new WeakMap,_NightingaleTrack_highlighted=new WeakMap,_NightingaleTrack_margins=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:String})],nightingale_track_NightingaleTrack.prototype,"color",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],nightingale_track_NightingaleTrack.prototype,"shape",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],nightingale_track_NightingaleTrack.prototype,"layout",void 0);nightingale_track_NightingaleTrack=NightingaleTrack_1=Object(tslib_es6.c)([Object(decorators.a)("nightingale-track")],nightingale_track_NightingaleTrack)},"./packages/nightingale-track/tests/mockData/data.json":function(module){module.exports=JSON.parse('[{"accession":"feature1","start":10,"end":40,"color":"#342ea2"},{"accession":"feature2","locations":[{"fragments":[{"start":50,"end":160}]}],"color":"#A42ea2"},{"accession":"feature3","locations":[{"fragments":[{"start":155,"end":155}]},{"fragments":[{"start":158,"end":158}]}],"color":"#A4Aea2"},{"accession":"feature4","locations":[{"fragments":[{"start":200,"end":204},{"start":206,"end":210}]}]},{"accession":"feature1","start":1,"end":3,"color":"#339"},{"accession":"feature5","start":1,"end":3,"color":"#63e"},{"accession":"feature6","start":1,"end":3,"color":"#35d","shape":"rectangle"},{"accession":"feature6_2","start":1,"end":3,"color":"#35d","shape":"line"},{"accession":"feature7","start":2,"end":2,"color":"#3a3","shape":"bridge"},{"accession":"feature8","start":1,"end":2,"color":"#3a3","shape":"bridge"},{"accession":"feature9","start":2,"end":2,"color":"#33d","shape":"diamond"},{"accession":"feature10","start":2,"end":3,"color":"#33d","shape":"diamond"},{"accession":"feature11","start":2,"end":2,"color":"#3a3","shape":"chevron"},{"accession":"feature12","start":1,"end":2,"color":"#3a3","shape":"chevron"},{"accession":"feature13","start":2,"end":2,"color":"#d3d","shape":"catFace"},{"accession":"feature14","start":2,"end":3,"color":"#d3d","shape":"catFace"},{"accession":"feature15","start":2,"end":2,"color":"#3a3","shape":"triangle"},{"accession":"feature16","start":1,"end":2,"color":"#3a3","shape":"triangle"},{"accession":"feature17","start":2,"end":2,"color":"#d3d","shape":"wave"},{"accession":"feature18","start":2,"end":3,"color":"#d3d","shape":"wave"},{"accession":"feature15","start":2,"end":2,"color":"#3a3","shape":"hexagon"},{"accession":"feature16","start":1,"end":2,"color":"#3a3","shape":"hexagon"},{"accession":"feature17","start":2,"end":2,"color":"#d3d","shape":"pentagon"},{"accession":"feature18","start":2,"end":3,"color":"#d3d","shape":"pentagon"},{"accession":"feature19","start":2,"end":2,"color":"#3a3","shape":"circle"},{"accession":"feature20","start":1,"end":2,"color":"#3a3","shape":"circle"},{"accession":"feature21","start":2,"end":2,"color":"#d3d","shape":"arrow"},{"accession":"feature22","start":2,"end":3,"color":"#d3d","shape":"arrow"},{"accession":"feature19","start":2,"end":2,"color":"#3a3","shape":"doubleBar"},{"accession":"feature20","start":1,"end":2,"color":"#3a3","shape":"doubleBar"},{"accession":"feature21","start":1,"end":2,"color":"#f06","shape":"helix","fill":"transparent"},{"accession":"feature22","start":2,"end":2,"color":"#fc0","shape":"strand"}]')},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./NightingaleManager.stories.ts":"./stories/NightingaleManager.stories.ts","./NightingaleNavigation.stories.ts":"./stories/NightingaleNavigation.stories.ts","./NightingaleSequence.stories.ts":"./stories/NightingaleSequence.stories.ts","./NightingaleTrack.stories.ts":"./stories/NightingaleTrack.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports,__webpack_require__){var map={"./NightingaleManager.stories.mdx":"./stories/NightingaleManager.stories.mdx","./NightingaleNavigation.stories.mdx":"./stories/NightingaleNavigation.stories.mdx","./NightingaleSequence.stories.mdx":"./stories/NightingaleSequence.stories.mdx","./NightingaleTrack.stories.mdx":"./stories/NightingaleTrack.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./stories/NightingaleManager.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleManager/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-manager\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-manager.svg)](https://www.npmjs.com/package/nightingale-manager)\n\nIt is a container for all the tracks and other inner components (e.g. nightingale-navigation).\n\nThis component is in charge of capturing the events that its descendent trigger, and adjust registered element attributes accordingly.\n\nThe children should fire events of the type change, and the detail object should contain the attributes `type` and `value`.\n\nAdditionally, there are a set of pre-defined attributes which can be used with this component and will be propagated to descendents: `display-start`, `display-end`, `highlight` and `length`. This is useful if you want to control things like zoom level from outside, for instance directly from your application.\n\nSee it running [Here](https://ebi-webcomponents.github.io/nightingale/#/manager).\n\n## Usage\n\n```html\n<nightingale-manager reflected-attributes="attr1 attr2"></nightingale-manager>\n```\n\nHere is an example of how the child components should fire the events:\n\n```javascript\nthis.dispatchEvent(\n  new CustomEvent("change", {\n    detail: {\n      value: "New value",\n      type: "attr1",\n    },\n  })\n);\n```\n\n## API Reference\n\n### Properties\n\n#### `register(element: NightingaleElement)`: register an element with `nightingale-manager`. Only registered elements get their attributes updated.\n\n#### `unregister(element: NightingaleElement)`: remove an element from the list of registered elements.\n\n### Attributes\n\n#### `reflected-attributes: string`: comma-separated list of attributes which should be reflected on the registered child components.\n\n#### `display-start?: number`\n\n#### `display-end?: number`\n\n#### `highlight?: start:end,start:end,...`\n\n#### `length?: number`\n\nList of attributes that this component will be propagating.\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleManager/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleManager.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Manager",(function(){return Manager}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var NightingaleManager_1,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./packages/nightingale-navigation/src/index.ts"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),decorators=__webpack_require__("./node_modules/lit/decorators.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var NightingaleManager=NightingaleManager_1=function(_NightingaleElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleManager,_NightingaleElement);var _super=_createSuper(NightingaleManager);function NightingaleManager(){var _this;return _classCallCheck(this,NightingaleManager),(_this=_super.apply(this,arguments))["reflected-attributes"]=new Map,_this.protvistaElements=new Set,_this.propertyValues=new Map,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleManager,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(NightingaleManager.prototype),"connectedCallback",this).call(this),this.addEventListener("change",this.changeListener)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(attr,previousValue,newValue){_get(_getPrototypeOf(NightingaleManager.prototype),"attributeChangedCallback",this).call(this,attr,previousValue,newValue),this.applyAttributes()}},{key:"applyAttributes",value:function applyAttributes(){var _this2=this;this.protvistaElements.forEach((function(element){var _a;null===(_a=_this2["reflected-attributes"])||void 0===_a||_a.forEach((function(value,type){!1===value||null==value?element.removeAttribute(type):element.setAttribute(type,"boolean"==typeof value?"":value)})),_this2.length&&element.setAttribute("length",""+_this2.length),_this2["display-end"]&&element.setAttribute("display-end",""+_this2["display-end"]),_this2["display-start"]&&element.setAttribute("display-start",""+_this2["display-start"]),_this2.highlight&&element.setAttribute("highlight",_this2.highlight)}))}},{key:"register",value:function register(element){this.protvistaElements.add(element),this.applyAttributes()}},{key:"unregister",value:function unregister(element){this.protvistaElements.delete(element)}},{key:"applyProperties",value:function applyProperties(forElementId){var _this3=this;if(forElementId){var element=this.querySelector("#"+forElementId);if(!element)return;this.propertyValues.forEach((function(value,type){element[type]=value}))}else this.protvistaElements.forEach((function(element){element&&_this3.propertyValues.forEach((function(value,type){element[type]=value}))}))}},{key:"isRegisteredAttribute",value:function isRegisteredAttribute(attributeName){return!!this["reflected-attributes"]&&(_toConsumableArray(this["reflected-attributes"].keys()).includes(attributeName)||NightingaleManager_1.observedAttributes.includes(attributeName))}},{key:"changeListener",value:function changeListener(e){var _a,_this4=this;if(e.detail)if("property"===e.detail.handler)this.propertyValues.set(e.detail.type,e.detail.value),this.applyProperties(e.detail.for);else this.isRegisteredAttribute(e.detail.type)&&(null===(_a=this["reflected-attributes"])||void 0===_a||_a.set(e.detail.type,e.detail.value)),Object.keys(e.detail).forEach((function(key){var _a;_this4.isRegisteredAttribute(key)&&(null===(_a=_this4["reflected-attributes"])||void 0===_a||_a.set(key,e.detail[key]))})),this.applyAttributes()}}]),NightingaleManager}(nightingale_new_core_src.b);Object(tslib_es6.c)([Object(decorators.b)({converter:{fromAttribute:function fromAttribute(value){if(!value)return null;var attributes=value.split(",");if(-1!==attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");return new Map(attributes.filter((function(attr){return!NightingaleManager_1.observedAttributes.includes(attr)})).map((function(attr){return[attr,null]})))},toAttribute:function toAttribute(value){return value.join(",")}}})],NightingaleManager.prototype,"reflected-attributes",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"length",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"display-start",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"display-end",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],NightingaleManager.prototype,"highlight",void 0),Object(tslib_es6.c)([Object(decorators.c)()],NightingaleManager.prototype,"protvistaElements",void 0),Object(tslib_es6.c)([Object(decorators.c)()],NightingaleManager.prototype,"propertyValues",void 0);var _templateObject;NightingaleManager=NightingaleManager_1=Object(tslib_es6.c)([Object(decorators.a)("nightingale-manager")],NightingaleManager),__webpack_require__("./packages/nightingale-track/src/index.ts");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../packages/nightingale-navigation/src/index.ts";\nimport "../packages/nightingale-manager/src/index.ts";\nimport "../packages/nightingale-track/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleManager",\n} as Meta;\n\nconst defaultSequence =\n  "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\nconst defaultData = [\n  {\n    accession: "feature1",\n    start: 1,\n    end: 2,\n    color: "blue",\n  },\n  {\n    accession: "feature1",\n    start: 49,\n    end: 50,\n    color: "red",\n  },\n  {\n    accession: "feature1",\n    start: 10,\n    end: 20,\n    color: "#342ea2",\n  },\n  {\n    accession: "feature2",\n    locations: [{ fragments: [{ start: 30, end: 45 }] }],\n    color: "#A42ea2",\n  },\n  {\n    accession: "feature3",\n    locations: [\n      {\n        fragments: [{ start: 15, end: 15 }],\n      },\n      { fragments: [{ start: 18, end: 18 }] },\n    ],\n    color: "#A4Aea2",\n  },\n  {\n    accession: "feature4",\n    locations: [\n      {\n        fragments: [\n          { start: 20, end: 23 },\n          { start: 26, end: 32 },\n        ],\n      },\n    ],\n  },\n];\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  sequence: string;\n  "highlight-color": string;\n  "margin-color": string;\n}> = (args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n    </nightingale-manager>\n  `;\n};\n\nexport const Manager = Template.bind({});\nManager.args = {\n  width: 800,\n  height: 50,\n  length: defaultSequence.length,\n  sequence: defaultSequence,\n  "display-start": 10,\n  "display-end": 80,\n  "highlight-color": "#EB3BFF22",\n  "margin-color": "transparent",\n};\nManager.play = async () => {\n  await customElements.whenDefined("nightingale-sequence");\n  const sequence = document.getElementById("sequence");\n  if (sequence) (sequence as any).fixedHighlight = "10:20";\n\n  await customElements.whenDefined("nightingale-navigation");\n  const nav = document.getElementById("navigation");\n  if (nav) (nav as any).fixedHighlight = "10:20";\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) {\n    (track as any).fixedHighlight = "10:20";\n    (track as any).data = defaultData;\n  }\n  const track2 = document.getElementById("track2");\n  if (track2) {\n    (track2 as any).fixedHighlight = "10:20";\n    (track2 as any).data = defaultData;\n  }\n};\n',locationsMap:{manager:{startLoc:{col:5,line:70},endLoc:{col:1,line:134},startBody:{col:5,line:70},endBody:{col:1,line:134}}}}},title:"Nightingale/NightingaleManager"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",defaultData=[{accession:"feature1",start:1,end:2,color:"blue"},{accession:"feature1",start:49,end:50,color:"red"},{accession:"feature1",start:10,end:20,color:"#342ea2"},{accession:"feature2",locations:[{fragments:[{start:30,end:45}]}],color:"#A42ea2"},{accession:"feature3",locations:[{fragments:[{start:15,end:15}]},{fragments:[{start:18,end:18}]}],color:"#A4Aea2"},{accession:"feature4",locations:[{fragments:[{start:20,end:23},{start:26,end:32}]}]}],Manager=function Template(args){var width=args.width,height=args.height,length=args.length,sequence=args.sequence;return Object(lit_html.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-color=',"\n          margin-color=",'\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=','\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n    </nightingale-manager>\n  '])),width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],sequence,width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"])}.bind({});Manager.args={width:800,height:50,length:defaultSequence.length,sequence:defaultSequence,"display-start":10,"display-end":80,"highlight-color":"#EB3BFF22","margin-color":"transparent"},Manager.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var sequence,nav,track,track2;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-sequence");case 2:return(sequence=document.getElementById("sequence"))&&(sequence.fixedHighlight="10:20"),_context.next=6,customElements.whenDefined("nightingale-navigation");case 6:return(nav=document.getElementById("navigation"))&&(nav.fixedHighlight="10:20"),_context.next=10,customElements.whenDefined("nightingale-track");case 10:(track=document.getElementById("track"))&&(track.fixedHighlight="10:20",track.data=defaultData),(track2=document.getElementById("track2"))&&(track2.fixedHighlight="10:20",track2.data=defaultData);case 14:case"end":return _context.stop()}}),_callee)}))),Manager.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-track>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-track\n          id="track2"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          layout="non-overlapping"\n        >\n        </nightingale-track>\n      </div>\n    </nightingale-manager>\n  `;\n}'}},Manager.parameters)},"./stories/NightingaleNavigation.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleNavigation/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-navigation\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-navigation.svg)](https://www.npmjs.com/package/nightingale-navigation)\n\nThis custom element can be used to zoom and navigate along the sequence displayed in Nightingale. When a user interacts with the component, a `change` event is triggered which <nightingale-manager> uses to change `display-start` and `display-end` values on relevant custom elements.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/navigation)\n\n## Usage\n\n```html\n<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlightStart="23"\n  highlightEnd="45"\n  rulerstart="50"\n/>\n```\n\n## API Reference\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `display-start: number (optional)`\n\nThe start position of the selected region.\n\n#### `display-end: number (optional)`\n\nThe end position of the selected region.\n\n#### `highlightStart: number (optional)`\n\nThe start position of the highlighted region.\n\n#### `highlightEnd: number (optional)`\n\nThe end position of the highlighted region.\n\n#### `rulerstart: number (optional)`\n\nThe starting coordinate of the ruler.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleNavigation/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleNavigation.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Navigation",(function(){return Navigation})),__webpack_require__.d(__webpack_exports__,"DifferentSelection",(function(){return DifferentSelection})),__webpack_require__.d(__webpack_exports__,"NavigationNoControls",(function(){return NavigationNoControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,lit_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-navigation/src/index.ts");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}__webpack_exports__.default={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../packages/nightingale-navigation/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleNavigation",\n} as Meta;\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  rulerstart: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n}> = (args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n};\n\nexport const Navigation = Template.bind({});\nNavigation.args = {\n  width: 500,\n  height: 100,\n  length: 456,\n  "display-start": 100,\n  "display-end": 200,\n  highlight: "23:45",\n  rulerstart: 50,\n};\n\nexport const DifferentSelection = Template.bind({});\nDifferentSelection.args = {\n  ...Navigation.args,\n  "display-start": 300,\n  "display-end": 350,\n};\n\nexport const NavigationNoControls = () => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`;\n',locationsMap:{navigation:{startLoc:{col:5,line:17},endLoc:{col:1,line:28},startBody:{col:5,line:17},endBody:{col:1,line:28}},"different-selection":{startLoc:{col:5,line:17},endLoc:{col:1,line:28},startBody:{col:5,line:17},endBody:{col:1,line:28}},"navigation-no-controls":{startLoc:{col:36,line:48},endLoc:{col:3,line:54},startBody:{col:36,line:48},endBody:{col:3,line:54}}}}},title:"Nightingale/NightingaleNavigation"};var Template=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,rulerstart=args.rulerstart;return Object(lit_html__WEBPACK_IMPORTED_MODULE_3__.b)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-navigation\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    highlight=","\n    rulerstart=","\n  ></nightingale-navigation>"])),width,height,length,args["display-start"],args["display-end"],highlight,rulerstart)},Navigation=Template.bind({});Navigation.args={width:500,height:100,length:456,"display-start":100,"display-end":200,highlight:"23:45",rulerstart:50};var DifferentSelection=Template.bind({});DifferentSelection.args=Object.assign({},Navigation.args,{"display-start":300,"display-end":350});var NavigationNoControls=function NavigationNoControls(){return Object(lit_html__WEBPACK_IMPORTED_MODULE_3__.b)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>'])))};Navigation.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},Navigation.parameters),DifferentSelection.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},DifferentSelection.parameters),NavigationNoControls.parameters=Object.assign({storySource:{source:'() => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`'}},NavigationNoControls.parameters)},"./stories/NightingaleSequence.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleSequence/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-sequence\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-sequence.svg)](https://www.npmjs.com/package/nightingale-sequence)\n\nThis custom element displays the sequence in the selected region if the zoom level allows it, otherwise it displays the axis legend of the selected region. As it inherits from <nightingale-zoomable>, it supports highlighting.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/sequence)\n\n## Usage\n\n#### Setting sequence through property\n\n```html\n<nightingale-sequence length="456" />\n```\n\n```\nconst nightingaleSequence = document.querySelectAll(\'#my-nightingale-sequence-id\');\nnightingaleSequence.sequence = proteinSequence;\n```\n\n#### Setting sequence through attribute\n\n```html\n<nightingale-sequence length="456" sequence="RFQAEGSLKK..." />\n```\n\n## API Reference\n\n### Properties\n\n#### `sequence: string`\n\nThe sequence to display\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleSequence/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleSequence.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Sequence",(function(){return Sequence})),__webpack_require__.d(__webpack_exports__,"SeqeunceNoControls",(function(){return NightingaleSequence_stories_SeqeunceNoControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_NightingaleSequence_seq_bg,_NightingaleSequence_axis,_NightingaleSequence_seq_g,_NightingaleSequence_highlighted,_NightingaleSequence_margins,_NightingaleSequence_bases,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_sequence_NightingaleSequence=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleSequence,_withManager);var _super=_createSuper(NightingaleSequence);function NightingaleSequence(){var _this;return _classCallCheck(this,NightingaleSequence),_this=_super.apply(this,arguments),_NightingaleSequence_seq_bg.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_axis.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_seq_g.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_margins.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_bases.set(_assertThisInitialized(_this),void 0),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleSequence,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this;_get(_getPrototypeOf(NightingaleSequence.prototype),"connectedCallback",this).call(this);var ticks=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(ticks)?ticks:3,this.sequence&&this.createSequence(),this.addEventListener("load",(function(e){_this2.data=e.detail.payload}))}},{key:"data",get:function get(){return this.sequence||""},set:function set(data){"string"==typeof data?this.sequence=data:"string"==typeof(null==data?void 0:data.sequence)&&(this.sequence=data.sequence),this.sequence&&!this.svg?this.createSequence():this.renderD3()}},{key:"getCharSize",value:function getCharSize(){var _a,_b;if(Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f")){var node=Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").select("text.base").node();if(node)this.chWidth=.8*node.getBBox().width,this.chHeight=1.6*node.getBBox().height;else{var tempNode=Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").append("text").attr("class","base").text("T");this.chWidth=.8*((null===(_a=tempNode.node())||void 0===_a?void 0:_a.getBBox().width)||0),this.chHeight=1.6*((null===(_b=tempNode.node())||void 0===_b?void 0:_b.getBBox().height)||0),tempNode.remove()}}}},{key:"createSequence",value:function createSequence(){var _a,_b,_c,_this3=this;this.svg=Object(src.d)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),Object(tslib_es6.b)(this,_NightingaleSequence_seq_bg,null===(_a=this.svg)||void 0===_a?void 0:_a.append("g").attr("class","background"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_axis,null===(_b=this.svg)||void 0===_b?void 0:_b.append("g").attr("class","x axis"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_seq_g,null===(_c=this.svg)||void 0===_c?void 0:_c.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_margins,this.svg.append("g").attr("class","margin"),"f"),requestAnimationFrame((function(){_this3.renderD3()}))}},{key:"firstUpdated",value:function firstUpdated(){this.createSequence()}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.renderD3()}},{key:"renderD3",value:function renderD3(){var _a,_b,_this4=this;if(this.getCharSize(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f")){var ftWidth=this.getSingleBaseWidth(),space=ftWidth-(this.chWidth||0),half=ftWidth/2,first=Math.floor(Math.max(0,this.getStart()-1)),last=Math.ceil(Math.min((null===(_a=this.sequence)||void 0===_a?void 0:_a.length)||0,this.getEnd())),bases=space<0?[]:(null===(_b=this.sequence)||void 0===_b?void 0:_b.slice(first,last).split("").map((function(aa,i){return{position:1+first+i,aa:aa}})))||[];if(this.height>(this.chWidth||0)&&this.xScale){var xAxis=Object(src.a)(this.xScale).tickFormat((function(d){return""+(Number.isInteger(d)?d:"")})).ticks(this.numberOfTicks,"s");Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").call(xAxis)}if(Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").attr("transform","translate("+(this["margin-left"]+half)+","+this["margin-top"]+")"),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").select(".domain").remove(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").selectAll(".tick line").remove(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").selectAll(".tick text").attr("y",2),Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f")){Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),Object(tslib_es6.b)(this,_NightingaleSequence_bases,Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").selectAll("text.base"),"f");var textElements=Object(tslib_es6.a)(this,_NightingaleSequence_bases,"f").data(bases,(function(d){return d.position}));if(textElements.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})).text((function(d){return d.aa})).style("pointer-events","none").style("font-family","monospace"),textElements.exit().remove(),textElements.attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})),Object(tslib_es6.a)(this,_NightingaleSequence_seq_bg,"f")){var background=Object(tslib_es6.a)(this,_NightingaleSequence_seq_bg,"f").selectAll("rect.base_bg").data(bases,(function(d){return d.position}));background.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]).call(nightingale_new_core_src.a,this),background.attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("height",this.getHeightWithMargins()).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]),background.exit().remove(),Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").style("opacity",Math.min(1,space)),background.style("opacity",Math.min(1,space))}}this.updateHighlight(),this.renderMarginOnGroup(Object(tslib_es6.a)(this,_NightingaleSequence_margins,"f"))}}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}},{key:"updateHighlight",value:function updateHighlight(){var _this5=this;if(Object(tslib_es6.a)(this,_NightingaleSequence_highlighted,"f")){var highlighs=Object(tslib_es6.a)(this,_NightingaleSequence_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this5.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this5.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"render",value:function render(){return Object(lit.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}]),NightingaleSequence}(Object(nightingale_new_core_src.e)(Object(nightingale_new_core_src.i)(Object(nightingale_new_core_src.h)(Object(nightingale_new_core_src.f)(Object(nightingale_new_core_src.g)(Object(nightingale_new_core_src.c)(Object(nightingale_new_core_src.d)(nightingale_new_core_src.b))))))));_NightingaleSequence_seq_bg=new WeakMap,_NightingaleSequence_axis=new WeakMap,_NightingaleSequence_seq_g=new WeakMap,_NightingaleSequence_highlighted=new WeakMap,_NightingaleSequence_margins=new WeakMap,_NightingaleSequence_bases=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:String})],nightingale_sequence_NightingaleSequence.prototype,"sequence",void 0);var NightingaleSequence_stories_templateObject,_templateObject2,_templateObject3;nightingale_sequence_NightingaleSequence=Object(tslib_es6.c)([Object(decorators.a)("nightingale-sequence")],nightingale_sequence_NightingaleSequence);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NightingaleSequence_stories_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}__webpack_exports__.default={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../packages/nightingale-sequence/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleSequence",\n} as Meta;\n\nconst defaultSequence = "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\n\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  sequence: string;\n}> = (args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n};\n\nexport const Sequence = Template.bind({});\nSequence.args = {\n  sequence: defaultSequence,\n  width: 500,\n  height: 100,\n  length: defaultSequence.length,\n  "display-start": 20,\n  "display-end": 40,\n  highlight: "23:45",\n};\n\nconst coordinates = [\n  [1.6, 5],\n  [6, 13],\n  [43, 50],\n  [10, 30],\n  [1, 50],\n];\nexport const SeqeunceNoControls = () =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `;\n',locationsMap:{sequence:{startLoc:{col:5,line:19},endLoc:{col:1,line:30},startBody:{col:5,line:19},endBody:{col:1,line:30}},"seqeunce-no-controls":{startLoc:{col:34,line:50},endLoc:{col:8,line:64},startBody:{col:34,line:50},endBody:{col:8,line:64}}}}},title:"Nightingale/NightingaleSequence"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",Sequence=function Template(args){var sequence=args.sequence,width=args.width,height=args.height,length=args.length,highlight=args.highlight;return Object(lit_html.b)(NightingaleSequence_stories_templateObject||(NightingaleSequence_stories_templateObject=NightingaleSequence_stories_taggedTemplateLiteralLoose(["<nightingale-sequence\n    sequence=","\n    display-start=","\n    display-end=","\n    highlight=",'\n    width="','"\n    height=','\n    length="','"\n  ></nightingale-sequence>'])),sequence,args["display-start"],args["display-end"],highlight,width,height,length)}.bind({});Sequence.args={sequence:defaultSequence,width:500,height:100,length:defaultSequence.length,"display-start":20,"display-end":40,highlight:"23:45"};var coordinates=[[1.6,5],[6,13],[43,50],[10,30],[1,50]],NightingaleSequence_stories_SeqeunceNoControls=function SeqeunceNoControls(){return Object(lit_html.b)(_templateObject2||(_templateObject2=NightingaleSequence_stories_taggedTemplateLiteralLoose(["<h3>Same sequence with different coordinates</h3>\n    "," "])),coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,2),start=_ref2[0],end=_ref2[1];return Object(lit_html.b)(_templateObject3||(_templateObject3=NightingaleSequence_stories_taggedTemplateLiteralLoose(["\n        <nightingale-sequence\n          sequence=",'\n          width="800"\n          height="40"\n          length=',"\n          display-start=","\n          display-end=",'\n          highlight="3:15"\n        ></nightingale-sequence>\n      '])),defaultSequence,defaultSequence.length,start,end)})))};Sequence.parameters=Object.assign({storySource:{source:'(args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n}'}},Sequence.parameters),NightingaleSequence_stories_SeqeunceNoControls.parameters=Object.assign({storySource:{source:'() =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `'}},NightingaleSequence_stories_SeqeunceNoControls.parameters)},"./stories/NightingaleTrack.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleTrack/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},"# nightingale-track\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-track.svg)](https://www.npmjs.com/package/nightingale-track)\n\nThe `nightingale-track` component is used to display protein features. These features have `start` and `end` positions (these can be the same if the feature only spans one amino-acid), a specific shape (rectangle is the default) and a colour. Features are passed through the `data` property. You can specify shapes and colours at an instance level (through a property) or individually in the feature `data` (see `data` below). In order to establish the scale, it is necessary to set the `length` property (length of the protein sequence in amino-acids).\n\nAs `nightingale-track` inherits from `nightingale-zoomable`, it will respond to zooming changes, highlight events and emit events when interacting with features (helpful if you want to display tooltips).\n\nLoading data can be done directly through the `data` property, or through the use of a `load` event emitted by one of `nightingale-track`'s children (e.g. a data adapter with `data-loader`).\n\nThere are two types of display available for `nightingale-track`:\n\n- overlapping will display all the features on one single line. This means that if a feature overlaps another one, it will be indistinguishable. This layout can be useful to display an overview, or when the data is very dense.\n- non-overlapping will calculate the best vertical positions for each feature so that they don't overlap.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/track)\n\n## Usage\n\n```html\n<nightingale-track length=\"456\" />\n```\n\n#### Setting the data through property\n\n```\nconst track = document.querySelector('#my-track-id');\ntrack.data = myDataObject\n```\n\n#### Setting data through &lt;data-loader&gt;\n\n```\n<nightingale-track length=\"770\">\n    <nightingale-feature-adapter id=\"adapter1\">\n        <data-loader>\n          <source src=\"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM\" />\n        </data-loader>\n    </nightingale-feature-adapter>\n</nightingale-track>\n```\n\n## API Reference\n\n### Properties\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `data: Array`\n\nArray items take the following shape:\n\n```javascript\n{\n    accession: String,\n    start: Number,\n    end: Number,\n    color?: String,\n    shape?: rectangle|bridge|diamond|chevron|catFace|triangle|wave|hexagon|pentagon|circle|arrow|doubleBar,\n    tooltipContent?: String\n    locations: [\n        {\n            fragments: [\n                {\n                    start: Number,\n                    end: Number\n                }\n            ]\n        }\n    ]\n}\n```\n\n**Note**: `locations` is an alternative to `start`-`stop` attributes, that expresses that a feature can appear in several locations, and also supports the idea of discontinuous features, by allowing to have `fragments`.\n\nSo for example a single continuous feature, that only appears once can be represented in 2 ways. The classic `{accession:'X', start:2, end:4}` or a more verbose version: `{accession:'X', locations: [{fragments: [{start:2, end:4}]}]}` an both should generate a track like this:\n\n```\n-XXX------\n```\n\nIf the same feature appears in 2 places in the sequence, it can be represented using `locations`:\n\n```javascript\n{\n    accession: 'Y',\n    locations: [\n        {fragments: [{start:2, end:4}]},\n        {fragments: [{start:7, end:9}]}\n    ]\n}\n```\n\nTo generate a track like\n\n```\n-YYY--YYY-\n```\n\nFinally a feature can also be discontinuous, to repesent this in our data we use `fragments`:\n\n```javascript\n{\n    accession: 'Z',\n    locations: [\n        {fragments: [\n            {start:2, end:4},\n            {start:7, end:9}]\n        }\n    ]\n}\n```\n\nThis expresses that the same instance of the feature Z is split in 2 fragments, from 2 to 4 and from 7 to 9. Which could be represented as\n\n```\n-ZZZ==ZZZ-\n```\n\n#### `layout?: overlapping(default)|non-overlapping(optional)`\n\nThe track layout. Non-overlapping uses a bumping algorhithm to make sure none of the features overlapp.\n\n#### `shape?: see above`\n\nShape of all features within the track\n\n#### `color?: see above`\n\nColour of all features within the track\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n"))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleTrack/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleTrack.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Track",(function(){return Track})),__webpack_require__.d(__webpack_exports__,"TrackWithSymbols",(function(){return TrackWithSymbols})),__webpack_require__.d(__webpack_exports__,"TrackNoControls",(function(){return TrackNoControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,lit_html__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/lit-html/lit-html.js"),_packages_nightingale_track_tests_mockData_data_json__WEBPACK_IMPORTED_MODULE_25__=(__webpack_require__("./packages/nightingale-track/src/index.ts"),__webpack_require__("./packages/nightingale-track/tests/mockData/data.json"));function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}__webpack_exports__.default={parameters:{storySource:{source:'import { Meta, Story } from "@storybook/web-components";\nimport { html } from "lit-html";\nimport "../packages/nightingale-track/src/index.ts";\nimport mockData from "../packages/nightingale-track/tests/mockData/data.json";\n\nexport default {\n  title: "Nightingale/NightingaleTrack",\n} as Meta;\n\nconst defaultData = [\n  {\n    accession: "feature1",\n    start: 1,\n    end: 2,\n    color: "blue",\n  },\n  {\n    accession: "feature1",\n    start: 49,\n    end: 50,\n    color: "red",\n  },\n  {\n    accession: "feature1",\n    start: 10,\n    end: 20,\n    color: "#342ea2",\n  },\n  {\n    accession: "feature2",\n    locations: [{ fragments: [{ start: 30, end: 45 }] }],\n    color: "#A42ea2",\n  },\n  {\n    accession: "feature3",\n    locations: [\n      {\n        fragments: [{ start: 15, end: 15 }],\n      },\n      { fragments: [{ start: 18, end: 18 }] },\n    ],\n    color: "#A4Aea2",\n  },\n  {\n    accession: "feature4",\n    locations: [\n      {\n        fragments: [\n          { start: 20, end: 23 },\n          { start: 26, end: 32 },\n        ],\n      },\n    ],\n  },\n];\nconst Template: Story<{\n  width: number;\n  height: number;\n  length: number;\n  "display-start": number;\n  "display-end": number;\n  highlight: string;\n  layout: "non-overlapping" | "default";\n}> = (args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n};\n\nexport const Track = Template.bind({});\nTrack.args = {\n  width: 500,\n  height: 50,\n  length: 100,\n  "display-start": 1,\n  "display-end": 50,\n  highlight: "23:45",\n  layout: "default",\n};\nTrack.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = defaultData;\n};\n\nexport const TrackWithSymbols = Template.bind({});\nTrackWithSymbols.args = {\n  width: 500,\n  height: 500,\n  length: 100,\n  "display-start": 1,\n  "display-end": 50,\n  layout: "non-overlapping",\n};\nTrackWithSymbols.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = mockData;\n};\n\nexport const TrackNoControls = () => html`\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n`;\nTrackNoControls.play = async () => {\n  await customElements.whenDefined("nightingale-track");\n  const track = document.getElementById("track");\n  if (track) (track as any).data = defaultData;\n};\n',locationsMap:{track:{startLoc:{col:5,line:64},endLoc:{col:1,line:76},startBody:{col:5,line:64},endBody:{col:1,line:76}},"track-with-symbols":{startLoc:{col:5,line:64},endLoc:{col:1,line:76},startBody:{col:5,line:64},endBody:{col:1,line:76}},"track-no-controls":{startLoc:{col:31,line:109},endLoc:{col:1,line:118},startBody:{col:31,line:109},endBody:{col:1,line:118}}}}},title:"Nightingale/NightingaleTrack"};var defaultData=[{accession:"feature1",start:1,end:2,color:"blue"},{accession:"feature1",start:49,end:50,color:"red"},{accession:"feature1",start:10,end:20,color:"#342ea2"},{accession:"feature2",locations:[{fragments:[{start:30,end:45}]}],color:"#A42ea2"},{accession:"feature3",locations:[{fragments:[{start:15,end:15}]},{fragments:[{start:18,end:18}]}],color:"#A4Aea2"},{accession:"feature4",locations:[{fragments:[{start:20,end:23},{start:26,end:32}]}]}],Template=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,layout=args.layout;return Object(lit_html__WEBPACK_IMPORTED_MODULE_23__.b)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-track\n    id="track"\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    highlight=","\n    layout=","\n  ></nightingale-track>"])),width,height,length,args["display-start"],args["display-end"],highlight,layout)},Track=Template.bind({});Track.args={width:500,height:50,length:100,"display-start":1,"display-end":50,highlight:"23:45",layout:"default"},Track.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var track;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=defaultData);case 4:case"end":return _context.stop()}}),_callee)})));var TrackWithSymbols=Template.bind({});TrackWithSymbols.args={width:500,height:500,length:100,"display-start":1,"display-end":50,layout:"non-overlapping"},TrackWithSymbols.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var track;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=_packages_nightingale_track_tests_mockData_data_json__WEBPACK_IMPORTED_MODULE_25__);case 4:case"end":return _context2.stop()}}),_callee2)})));var TrackNoControls=function TrackNoControls(){return Object(lit_html__WEBPACK_IMPORTED_MODULE_23__.b)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n'])))};TrackNoControls.play=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var track;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,customElements.whenDefined("nightingale-track");case 2:(track=document.getElementById("track"))&&(track.data=defaultData);case 4:case"end":return _context3.stop()}}),_callee3)}))),Track.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n}'}},Track.parameters),TrackWithSymbols.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, layout } = args;\n  return html`<nightingale-track\n    id="track"\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    layout=${layout}\n  ></nightingale-track>`;\n}'}},TrackWithSymbols.parameters),TrackNoControls.parameters=Object.assign({storySource:{source:'() => html`\n  <nightingale-track\n    id="track"\n    length="223"\n    height="100"\n    display-start="1"\n    display-end="50"\n    layout="non-overlapping"\n  ></nightingale-track>\n`'}},TrackNoControls.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);
//# sourceMappingURL=main.1d3ddd20.iframe.bundle.js.map