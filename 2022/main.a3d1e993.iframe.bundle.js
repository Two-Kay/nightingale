(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./packages/nightingale-navigation/src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js");var _templateObject,_NightingaleNavigation_x,_NightingaleNavigation_dontDispatch,_NightingaleNavigation_svg,_NightingaleNavigation_displaystartLabel,_NightingaleNavigation_displayendLabel,_NightingaleNavigation_axis,_NightingaleNavigation_brushG,_NightingaleNavigation_polygon,_NightingaleNavigation_xAxis,_NightingaleNavigation_viewport,_NightingaleNavigation_highlighted,_NightingaleNavigation_margins,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_navigation_NightingaleNavigation=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleNavigation,_withManager);var _super=_createSuper(NightingaleNavigation);function NightingaleNavigation(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NightingaleNavigation),_this=_super.call(this),_NightingaleNavigation_x.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_dontDispatch.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_svg.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displaystartLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_displayendLabel.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_axis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_brushG.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_polygon.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_xAxis.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_viewport.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleNavigation_margins.set(_assertThisInitialized(_this),void 0),_this.rulerstart=1,_this["show-highlight"]=!1,Object(tslib_es6.b)(_assertThisInitialized(_this),_NightingaleNavigation_x,null,"f"),Object(tslib_es6.b)(_assertThisInitialized(_this),_NightingaleNavigation_dontDispatch,!1,"f"),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleNavigation,[{key:"createNavRuler",value:function createNavRuler(){var _this2=this;Object(tslib_es6.b)(this,_NightingaleNavigation_x,Object(src.c)().range([this["margin-left"],this.width-this["margin-right"]]).domain([this.rulerstart,this.rulerstart+(this.length||1)]),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_svg,Object(src.d)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_xAxis,Object(src.a)(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_displaystartLabel,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","start-label").attr("x",this["margin-left"]).attr("y",this.height-this["margin-bottom"]-2).style("font-family","sans-serif").style("font-size",12),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_displayendLabel,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("text").attr("class","end-label").attr("x",this.width-this["margin-right"]).attr("y",this.height-this["margin-bottom"]-2).attr("text-anchor","end").style("font-family","sans-serif").style("font-size",12),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_axis,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","x axis").call(Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_viewport,Object(src.b)().extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]).on("brush",(function(_ref){var selection=_ref.selection,transform=_ref.transform;selection&&Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f")&&(_this2["display-start"]=Math.round(100*Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f").invert(selection[0]))/100,_this2["display-end"]=Math.round(100*Object(tslib_es6.a)(_this2,_NightingaleNavigation_x,"f").invert(selection[1]))/100,Object(tslib_es6.a)(_this2,_NightingaleNavigation_dontDispatch,"f")||_this2.dispatchEvent(new CustomEvent("change",{detail:{"display-end":_this2["display-end"],"display-start":_this2["display-start"],extra:{transform:transform}},bubbles:!0,cancelable:!0})),_this2.updateLabels(),_this2.updatePolygon())})),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_brushG,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","brush").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")),"f"),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f").move,[Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),Object(tslib_es6.b)(this,_NightingaleNavigation_polygon,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),"f"),Object(tslib_es6.b)(this,_NightingaleNavigation_margins,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","margin"),"f"),this.createHighlight(),this.renderD3()}},{key:"createHighlight",value:function createHighlight(){Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f")&&(Object(tslib_es6.b)(this,_NightingaleNavigation_highlighted,Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f").append("g").attr("class","highlighted"),"f"),this.updateHighlight())}},{key:"onWidthChange",value:function onWidthChange(){var _a,_b,_c;Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").range([this["margin-left"],this.width-this["margin-right"]]),null===(_a=Object(tslib_es6.a)(this,_NightingaleNavigation_svg,"f"))||void 0===_a||_a.attr("width",this.width),null===(_b=Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f"))||void 0===_b||_b.extent([[this["margin-left"],0],[this.width-this["margin-right"],.51*this.height]]),Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")&&(null===(_c=Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f"))||void 0===_c||_c.call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f"))))}},{key:"render",value:function render(){return Object(lit.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}},{key:"updated",value:function updated(changedProperties){changedProperties.has("width")&&this.onWidthChange(),this.renderD3(),_get(_getPrototypeOf(NightingaleNavigation.prototype),"updated",this).call(this,changedProperties)}},{key:"firstUpdated",value:function firstUpdated(){this.createNavRuler()}},{key:"renderD3",value:function renderD3(){Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_axis,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f")&&(Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").domain([this.rulerstart,this.rulerstart+(this.length||1)-1]),Object(tslib_es6.a)(this,_NightingaleNavigation_axis,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_xAxis,"f")),this.updatePolygon(),this.updateLabels(),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f")&&(Object(tslib_es6.b)(this,_NightingaleNavigation_dontDispatch,!0,"f"),Object(tslib_es6.a)(this,_NightingaleNavigation_brushG,"f").call(Object(tslib_es6.a)(this,_NightingaleNavigation_viewport,"f").move,[Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart()),Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())]),Object(tslib_es6.b)(this,_NightingaleNavigation_dontDispatch,!1,"f")),this.updateHighlight(),this.renderMarginOnGroup(Object(tslib_es6.a)(this,_NightingaleNavigation_margins,"f")))}},{key:"updateHighlight",value:function updateHighlight(){var _this3=this;if(Object(tslib_es6.a)(this,_NightingaleNavigation_highlighted,"f")){var s1=Object(src.c)().domain([this["display-start"]||1,(this["display-end"]||this.length||1)+1]).range([this["margin-left"],this.width-this["margin-right"]]),s2=Object(src.c)().domain([this.rulerstart,this.rulerstart+(this.length||1)]).range([this["margin-left"],this.width-this["margin-right"]]),highlighs=Object(tslib_es6.a)(this,_NightingaleNavigation_highlighted,"f").selectAll("polygon").data(this["show-highlight"]?this.highlightedRegion.segments:[]);highlighs.enter().append("polygon").attr("class","highlight-polygon").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("points",(function(segment){var start=Math.max(1,segment.start),end=Math.min(_this3.length||1,segment.end)+1;return s2(start)+","+_this3.height/2+"\n        "+s2(end)+","+_this3.height/2+"\n        "+s1(end)+","+_this3.height+"\n        "+s1(start)+","+_this3.height})),highlighs.exit().remove()}}},{key:"updateLabels",value:function updateLabels(){Object(tslib_es6.a)(this,_NightingaleNavigation_displaystartLabel,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_displaystartLabel,"f").attr("x",this["margin-left"]).text(Math.round(this.getStart())),Object(tslib_es6.a)(this,_NightingaleNavigation_displayendLabel,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_displayendLabel,"f").attr("x",this.width-this["margin-right"]).text(Math.round(this.getEnd()))}},{key:"updatePolygon",value:function updatePolygon(){Object(tslib_es6.a)(this,_NightingaleNavigation_polygon,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f")&&Object(tslib_es6.a)(this,_NightingaleNavigation_polygon,"f").attr("points",Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getStart())+","+this.height/2+"\n        "+Object(tslib_es6.a)(this,_NightingaleNavigation_x,"f").call(this,this.getEnd())+","+this.height/2+"\n        "+(this.width-this["margin-right"])+","+this.height+"\n        "+this["margin-left"]+","+this.height)}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||1}}]),NightingaleNavigation}(Object(nightingale_new_core_src.e)(Object(nightingale_new_core_src.h)(Object(nightingale_new_core_src.f)(Object(nightingale_new_core_src.g)(Object(nightingale_new_core_src.c)(Object(nightingale_new_core_src.d)(nightingale_new_core_src.b)))))));_NightingaleNavigation_x=new WeakMap,_NightingaleNavigation_dontDispatch=new WeakMap,_NightingaleNavigation_svg=new WeakMap,_NightingaleNavigation_displaystartLabel=new WeakMap,_NightingaleNavigation_displayendLabel=new WeakMap,_NightingaleNavigation_axis=new WeakMap,_NightingaleNavigation_brushG=new WeakMap,_NightingaleNavigation_polygon=new WeakMap,_NightingaleNavigation_xAxis=new WeakMap,_NightingaleNavigation_viewport=new WeakMap,_NightingaleNavigation_highlighted=new WeakMap,_NightingaleNavigation_margins=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:Number})],nightingale_navigation_NightingaleNavigation.prototype,"rulerstart",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Boolean})],nightingale_navigation_NightingaleNavigation.prototype,"show-highlight",void 0);nightingale_navigation_NightingaleNavigation=Object(tslib_es6.c)([Object(decorators.a)("nightingale-navigation")],nightingale_navigation_NightingaleNavigation)},"./packages/nightingale-new-core/src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return src_withDimensions})),__webpack_require__.d(__webpack_exports__,"g",(function(){return src_withPosition})),__webpack_require__.d(__webpack_exports__,"f",(function(){return src_withMargin})),__webpack_require__.d(__webpack_exports__,"h",(function(){return src_withResizable})),__webpack_require__.d(__webpack_exports__,"e",(function(){return src_withManager})),__webpack_require__.d(__webpack_exports__,"d",(function(){return src_withHighlight})),__webpack_require__.d(__webpack_exports__,"i",(function(){return src_withZoom})),__webpack_require__.d(__webpack_exports__,"a",(function(){return bindEvents}));__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var src_withDimensions=function withDimensions(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:800,height:100},WithDimensions=function(_superClass){_inherits(WithDimensions,_superClass);var _super=_createSuper(WithDimensions);function WithDimensions(){var _this;return _classCallCheck(this,WithDimensions),(_this=_super.apply(this,arguments)).width=options.width,_this.height=options.height,_this}return _createClass(WithDimensions)}(superClass);return Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithDimensions.prototype,"width",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithDimensions.prototype,"height",void 0),WithDimensions};function withPosition_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withPosition_createClass(Constructor,protoProps,staticProps){return protoProps&&withPosition_defineProperties(Constructor.prototype,protoProps),staticProps&&withPosition_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withPosition_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withPosition_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withPosition_setPrototypeOf(subClass,superClass)}function withPosition_setPrototypeOf(o,p){return withPosition_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withPosition_setPrototypeOf(o,p)}function withPosition_createSuper(Derived){var hasNativeReflectConstruct=function withPosition_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withPosition_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withPosition_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withPosition_possibleConstructorReturn(this,result)}}function withPosition_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withPosition_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withPosition_getPrototypeOf(o){return withPosition_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withPosition_getPrototypeOf(o)}var src_withPosition=function withPosition(superClass){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"display-start":1,"display-end":-1,length:0},WithPosition=function(_superClass){withPosition_inherits(WithPosition,_superClass);var _super=withPosition_createSuper(WithPosition);function WithPosition(){var _this;return withPosition_classCallCheck(this,WithPosition),(_this=_super.apply(this,arguments)).length=options.length,_this["display-start"]=options["display-start"],_this["display-end"]=options["display-end"],_this}return withPosition_createClass(WithPosition)}(superClass);return Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"length",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"display-start",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],WithPosition.prototype,"display-end",void 0),WithPosition};__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");function withMargin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withMargin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withMargin_createClass(Constructor,protoProps,staticProps){return protoProps&&withMargin_defineProperties(Constructor.prototype,protoProps),staticProps&&withMargin_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withMargin_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withMargin_setPrototypeOf(subClass,superClass)}function withMargin_setPrototypeOf(o,p){return withMargin_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withMargin_setPrototypeOf(o,p)}function withMargin_createSuper(Derived){var hasNativeReflectConstruct=function withMargin_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withMargin_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withMargin_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withMargin_possibleConstructorReturn(this,result)}}function withMargin_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withMargin_assertThisInitialized(self)}function withMargin_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withMargin_getPrototypeOf(o){return withMargin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withMargin_getPrototypeOf(o)}var src_withMargin=function withMargin(superClass){var _WithMargin_created,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"margin-top":0,"margin-bottom":0,"margin-left":10,"margin-right":10,"margin-color":"#FFFFFFDD"},WithMargin=function(_withDimensions){withMargin_inherits(WithMargin,_withDimensions);var _super=withMargin_createSuper(WithMargin);function WithMargin(){var _this;return withMargin_classCallCheck(this,WithMargin),(_this=_super.apply(this,arguments))["margin-top"]=options["margin-top"],_this["margin-bottom"]=options["margin-bottom"],_this["margin-left"]=options["margin-left"],_this["margin-right"]=options["margin-right"],_this["margin-color"]=options["margin-color"],_WithMargin_created.set(withMargin_assertThisInitialized(_this),!1),_this}return withMargin_createClass(WithMargin,[{key:"getWidthWithMargins",value:function getWidthWithMargins(){return this.width?this.width-this["margin-left"]-this["margin-right"]:0}},{key:"getHeightWithMargins",value:function getHeightWithMargins(){return this.height?this.height-this["margin-top"]-this["margin-bottom"]:0}},{key:"renderMarginOnGroup",value:function renderMarginOnGroup(g){g&&(Object(tslib_es6.a)(this,_WithMargin_created,"f")||(g.append("rect").style("pointer-events","none").attr("class","margin-left").attr("x",0),g.append("rect").style("pointer-events","none").attr("class","margin-right"),g.append("rect").style("pointer-events","none").attr("class","margin-top").attr("width",this.width).attr("x",0).attr("y",0),g.append("rect").style("pointer-events","none").attr("class","margin-bottom").attr("width",this.width).attr("x",0),Object(tslib_es6.b)(this,_WithMargin_created,!0,"f")),g.select("rect.margin-left").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("width",this["margin-left"]),g.select("rect.margin-right").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this.height).attr("x",this.width-this["margin-right"]).attr("width",this["margin-right"]),g.select("rect.margin-top").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("height",this["margin-top"]),g.select("rect.margin-bottom").attr("fill",this["margin-color"]||"#FFFFFFDD").attr("y",this.height-this["margin-bottom"]).attr("height",this["margin-bottom"]))}}]),WithMargin}(src_withDimensions(superClass));return _WithMargin_created=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-top",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-bottom",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-left",void 0),Object(tslib_es6.c)([Object(decorators.b)()],WithMargin.prototype,"margin-right",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithMargin.prototype,"margin-color",void 0),WithMargin};__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");function withResizable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withResizable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withResizable_getPrototypeOf(object)););return object}function withResizable_setPrototypeOf(o,p){return withResizable_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withResizable_setPrototypeOf(o,p)}function withResizable_createSuper(Derived){var hasNativeReflectConstruct=function withResizable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withResizable_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withResizable_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withResizable_possibleConstructorReturn(this,result)}}function withResizable_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withResizable_assertThisInitialized(self)}function withResizable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withResizable_getPrototypeOf(o){return withResizable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withResizable_getPrototypeOf(o)}var src_withResizable=function withResizable(superClass){var _WithResizable_observer,WithResizable=function(_withDimensions){!function withResizable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withResizable_setPrototypeOf(subClass,superClass)}(WithResizable,_withDimensions);var _super=withResizable_createSuper(WithResizable);function WithResizable(){var _this;withResizable_classCallCheck(this,WithResizable);for(var _len=arguments.length,rest=new Array(_len),_key=0;_key<_len;_key++)rest[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(rest)),_WithResizable_observer.set(withResizable_assertThisInitialized(_this),void 0),_this.onResize=_this.onResize.bind(withResizable_assertThisInitialized(_this)),_this.listenForResize=_this.listenForResize.bind(withResizable_assertThisInitialized(_this)),_this}return function withResizable_createClass(Constructor,protoProps,staticProps){return protoProps&&withResizable_defineProperties(Constructor.prototype,protoProps),staticProps&&withResizable_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithResizable,[{key:"connectedCallback",value:function connectedCallback(){this.listenForResize(),_get(withResizable_getPrototypeOf(WithResizable.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){Object(tslib_es6.a)(this,_WithResizable_observer,"f")&&Object(tslib_es6.a)(this,_WithResizable_observer,"f").unobserve(this),_get(withResizable_getPrototypeOf(WithResizable.prototype),"disconnectedCallback",this).call(this)}},{key:"onResize",value:function onResize(){this.width=this.offsetWidth}},{key:"listenForResize",value:function listenForResize(){Object(tslib_es6.b)(this,_WithResizable_observer,new ResizeObserver(this.onResize),"f"),Object(tslib_es6.a)(this,_WithResizable_observer,"f").observe(this)}}]),WithResizable}(src_withDimensions(superClass));return _WithResizable_observer=new WeakMap,WithResizable};function withManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withManager_get(){return withManager_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withManager_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withManager_get.apply(this,arguments)}function withManager_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withManager_getPrototypeOf(object)););return object}function withManager_setPrototypeOf(o,p){return withManager_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withManager_setPrototypeOf(o,p)}function withManager_createSuper(Derived){var hasNativeReflectConstruct=function withManager_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withManager_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withManager_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withManager_possibleConstructorReturn(this,result)}}function withManager_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function withManager_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function withManager_getPrototypeOf(o){return withManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withManager_getPrototypeOf(o)}var src_withManager=function withManager(superClass){var WithManager=function(_superClass){!function withManager_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withManager_setPrototypeOf(subClass,superClass)}(WithManager,_superClass);var _super=withManager_createSuper(WithManager);function WithManager(){return withManager_classCallCheck(this,WithManager),_super.apply(this,arguments)}return function withManager_createClass(Constructor,protoProps,staticProps){return protoProps&&withManager_defineProperties(Constructor.prototype,protoProps),staticProps&&withManager_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithManager,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;this.closest("nightingale-manager")&&customElements.whenDefined("nightingale-manager").then((function(){_this.manager=_this.closest("nightingale-manager"),_this.manager&&_this.manager.register(_this)})),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.manager&&this.manager.unregister(this),withManager_get(withManager_getPrototypeOf(WithManager.prototype),"disconnectedCallback",this).call(this)}}]),WithManager}(superClass);return WithManager};__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-nan.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Region_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Region_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Region=function(){function Region(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$min=_ref.min,min=void 0===_ref$min?-1/0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1/0:_ref$max;Region_classCallCheck(this,Region),this.segments=[],this.max=max,this.min=min,this.regionString=null}return function Region_createClass(Constructor,protoProps,staticProps){return protoProps&&Region_defineProperties(Constructor.prototype,protoProps),staticProps&&Region_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Region,[{key:"encode",value:function encode(){var _this=this,full=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(_ref2){var start=_ref2.start,end=_ref2.end;return full?start+":"+end:(start===_this.min?"":start)+":"+(end===_this.max?"":end)})).join(",")}},{key:"decode",value:function decode(regionString){var _this2=this;void 0!==regionString&&(this.regionString=regionString),this.regionString?this.segments=this.regionString.split(",").map((function(region){var _region$split2=_slicedToArray(region.split(":"),3),_start=_region$split2[0],_end=_region$split2[1];if(void 0!==_region$split2[2])throw new Error("there should be at most 1 ':' per region. Region: "+region);var start=_start?Number(_start):_this2.min,end=_end?Number(_end):_this2.max;if(start>end){var _ref3=[end,start];start=_ref3[0],end=_ref3[1]}if(start<_this2.min&&(start=_this2.min),end>_this2.max&&(end=_this2.max),Number.isNaN(start))throw new Error("The parsed value of "+_start+" is NaN. Region: "+region);if(Number.isNaN(end))throw new Error("The parsed value of "+_end+" is NaN. Region: "+region);return{start:start,end:end}})):this.segments=[]}}]),Region}();function withHighlight_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withHighlight_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withHighlight_createClass(Constructor,protoProps,staticProps){return protoProps&&withHighlight_defineProperties(Constructor.prototype,protoProps),staticProps&&withHighlight_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function withHighlight_get(){return withHighlight_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withHighlight_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withHighlight_get.apply(this,arguments)}function withHighlight_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withHighlight_getPrototypeOf(object)););return object}function withHighlight_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withHighlight_setPrototypeOf(subClass,superClass)}function withHighlight_setPrototypeOf(o,p){return withHighlight_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withHighlight_setPrototypeOf(o,p)}function withHighlight_createSuper(Derived){var hasNativeReflectConstruct=function withHighlight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withHighlight_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withHighlight_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withHighlight_possibleConstructorReturn(this,result)}}function withHighlight_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withHighlight_assertThisInitialized(self)}function withHighlight_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withHighlight_getPrototypeOf(o){return withHighlight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withHighlight_getPrototypeOf(o)}var combineRegions=function combineRegions(region1,region2){return region1?region2?region1+","+region2:region1:region2},src_withHighlight=function withHighlight(superClass){var _WithHighlight_fixedHighlight,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{highlight:null,"highlight-color":"#FFEB3B66"},WithHighlight=function(_superClass){withHighlight_inherits(WithHighlight,_superClass);var _super=withHighlight_createSuper(WithHighlight);function WithHighlight(){var _this;withHighlight_classCallCheck(this,WithHighlight);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).highlight=options.highlight,_this["highlight-color"]=options["highlight-color"],_WithHighlight_fixedHighlight.set(withHighlight_assertThisInitialized(_this),void 0),_this.highlightedRegion=new Region({min:1}),Object(tslib_es6.b)(withHighlight_assertThisInitialized(_this),_WithHighlight_fixedHighlight,null,"f"),_this}return withHighlight_createClass(WithHighlight,[{key:"fixedHighlight",set:function set(value){Object(tslib_es6.b)(this,_WithHighlight_fixedHighlight,value,"f"),this.highlightedRegion.decode(combineRegions(this.highlight||"",Object(tslib_es6.a)(this,_WithHighlight_fixedHighlight,"f")||""))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){withHighlight_get(withHighlight_getPrototypeOf(WithHighlight.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),"null"===newValue&&(newValue=null),oldValue!==newValue&&("length"===name&&(this.highlightedRegion.max=Number(newValue)),"highlight"===name&&this.highlightedRegion.decode(combineRegions(newValue||"",Object(tslib_es6.a)(this,_WithHighlight_fixedHighlight,"f")||"")))}}]),WithHighlight}(superClass);return _WithHighlight_fixedHighlight=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithHighlight.prototype,"highlight",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],WithHighlight.prototype,"highlight-color",void 0),WithHighlight},src=__webpack_require__("./node_modules/d3/src/index.js");function withZoom_slicedToArray(arr,i){return function withZoom_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function withZoom_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function withZoom_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return withZoom_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return withZoom_arrayLikeToArray(o,minLen)}(arr,i)||function withZoom_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function withZoom_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function withZoom_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function withZoom_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function withZoom_get(){return withZoom_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=withZoom_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},withZoom_get.apply(this,arguments)}function withZoom_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=withZoom_getPrototypeOf(object)););return object}function withZoom_setPrototypeOf(o,p){return withZoom_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},withZoom_setPrototypeOf(o,p)}function withZoom_createSuper(Derived){var hasNativeReflectConstruct=function withZoom_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=withZoom_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=withZoom_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return withZoom_possibleConstructorReturn(this,result)}}function withZoom_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return withZoom_assertThisInitialized(self)}function withZoom_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function withZoom_getPrototypeOf(o){return withZoom_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},withZoom_getPrototypeOf(o)}var src_withZoom=function withZoom(superClass){var WithZoom=function(_withMargin){!function withZoom_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&withZoom_setPrototypeOf(subClass,superClass)}(WithZoom,_withMargin);var _super=withZoom_createSuper(WithZoom);function WithZoom(){var _this;withZoom_classCallCheck(this,WithZoom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_this=_super.call.apply(_super,[this].concat(args)))._updateScaleDomain=_this._updateScaleDomain.bind(withZoom_assertThisInitialized(_this)),_this._initZoom=_this._initZoom.bind(withZoom_assertThisInitialized(_this)),_this.zoomed=_this.zoomed.bind(withZoom_assertThisInitialized(_this)),_this._applyZoomTranslation=_this.applyZoomTranslation.bind(withZoom_assertThisInitialized(_this));var aboutToApply=!1;return _this.applyZoomTranslation=function(){aboutToApply||(aboutToApply=!0,requestAnimationFrame((function(){aboutToApply=!1,_this._applyZoomTranslation()})))},_this}return function withZoom_createClass(Constructor,protoProps,staticProps){return protoProps&&withZoom_defineProperties(Constructor.prototype,protoProps),staticProps&&withZoom_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WithZoom,[{key:"connectedCallback",value:function connectedCallback(){this._updateScaleDomain(),this.xScale&&(this._originXScale=this.xScale.copy()),this._initZoom(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"disconnectedCallback",this).call(this)}},{key:"xScale",get:function get(){return this._xScale},set:function set(xScale){this._xScale=xScale}},{key:"zoom",get:function get(){return this._zoom}},{key:"svg",get:function get(){return this._svg},set:function set(svg){svg&&this._zoom&&(this._svg=svg,svg.call(this._zoom),this.applyZoomTranslation())}},{key:"_updateScaleDomain",value:function _updateScaleDomain(){this.xScale=Object(src.c)().domain([1,(this.length||0)+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function _initZoom(){this._zoom=Object(src.e)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).on("zoom",this.zoomed)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){var _a;withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue),this.zoom&&("null"===newValue&&(newValue=null),oldValue!==newValue&&("length"===name&&(this._updateScaleDomain(),this._originXScale=null===(_a=this.xScale)||void 0===_a?void 0:_a.copy()),this.applyZoomTranslation()))}},{key:"zoomed",value:function zoomed(d3Event){var _a;this._originXScale&&(this.xScale=d3Event.transform.rescaleX(this._originXScale));var _ref2=withZoom_slicedToArray((null===(_a=null==this?void 0:this.xScale)||void 0===_a?void 0:_a.domain())||[0,0],2),start=_ref2[0],end=_ref2[1];!this.dontDispatch&&this.xScale&&this.dispatchEvent(new CustomEvent("change",{detail:{"display-start":Math.max(1,start),"display-end":Math.min(this.length||0,Math.max(end-1,start+1))},bubbles:!0,cancelable:!0}))}},{key:"applyZoomTranslation",value:function applyZoomTranslation(){if(this.svg&&this._originXScale){var k=Math.max(1,(this.length||0)/(1+(this["display-end"]||0)-(this["display-start"]||0))),dx=-this._originXScale(this["display-start"]||0);this.dontDispatch=!0,this.zoom&&this.svg.call(this.zoom.transform,src.f.scale(k).translate(dx,0)),this.dontDispatch=!1,this.zoomRefreshed()}}},{key:"zoomRefreshed",value:function zoomRefreshed(){withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"render",value:function render(){return this.applyZoomTranslation(),withZoom_get(withZoom_getPrototypeOf(WithZoom.prototype),"render",this).call(this)}},{key:"getXFromSeqPosition",value:function getXFromSeqPosition(position){return this.xScale?this["margin-left"]+this.xScale(position):-1}},{key:"getSingleBaseWidth",value:function getSingleBaseWidth(){return this.xScale?this.xScale(2)-this.xScale(1):-1}}]),WithZoom}(src_withMargin(src_withPosition(src_withDimensions(superClass))));return WithZoom};function createEvent(type){var feature=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,withHighlight=arguments.length>2&&void 0!==arguments[2]&&arguments[2],withId=arguments.length>3&&void 0!==arguments[3]&&arguments[3],start=arguments.length>4?arguments[4]:void 0,end=arguments.length>5?arguments[5]:void 0,target=arguments.length>6?arguments[6]:void 0,event=arguments.length>7?arguments[7]:void 0,element=arguments.length>8?arguments[8]:void 0;feature&&(feature=(null==feature?void 0:feature.feature)||feature);var detail={eventType:type,feature:feature,target:target,parentEvent:event};return withHighlight&&((null==feature?void 0:feature.fragments)?detail.highlight=((null==feature?void 0:feature.fragments)||[]).map((function(fr){return fr.start+":"+fr.end})).join(","):(null==event?void 0:event.shiftKey)&&(null==element?void 0:element.highlight)?detail.highlight=element.highlight+","+start+":"+end:detail.highlight=start&&end?start+":"+end:void 0),withId&&(detail.selectedId=null==feature?void 0:feature.protvistaFeatureId),new CustomEvent("change",{detail:detail,bubbles:!0,cancelable:!0})}function bindEvents(feature,element){feature.on("mouseover",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("mouseover",datum,"onmouseover"===element.getAttribute("highlight-event"),!1,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event))})).on("mouseout",(function(){element.dispatchEvent(createEvent("mouseout",null,"onmouseover"===element.getAttribute("highlight-event")))})).on("click",(function(event,datum){var _a,_b;element.dispatchEvent(createEvent("click",datum,"onclick"===element.getAttribute("highlight-event"),!0,null!==(_a=datum.start)&&void 0!==_a?_a:datum.position,null!==(_b=datum.end)&&void 0!==_b?_b:datum.position,this,event,element))}))}function nightingale_base_element_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function nightingale_base_element_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function nightingale_base_element_setPrototypeOf(o,p){return nightingale_base_element_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},nightingale_base_element_setPrototypeOf(o,p)}function nightingale_base_element_createSuper(Derived){var hasNativeReflectConstruct=function nightingale_base_element_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=nightingale_base_element_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=nightingale_base_element_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return nightingale_base_element_possibleConstructorReturn(this,result)}}function nightingale_base_element_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function nightingale_base_element_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function nightingale_base_element_getPrototypeOf(o){return nightingale_base_element_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},nightingale_base_element_getPrototypeOf(o)}var NightingaleElement=function(_LitElement){!function nightingale_base_element_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&nightingale_base_element_setPrototypeOf(subClass,superClass)}(NightingaleElement,_LitElement);var _super=nightingale_base_element_createSuper(NightingaleElement);function NightingaleElement(){return nightingale_base_element_classCallCheck(this,NightingaleElement),_super.apply(this,arguments)}return function nightingale_base_element_createClass(Constructor,protoProps,staticProps){return protoProps&&nightingale_base_element_defineProperties(Constructor.prototype,protoProps),staticProps&&nightingale_base_element_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleElement,[{key:"createRenderRoot",value:function createRenderRoot(){return this}}]),NightingaleElement}(__webpack_require__("./node_modules/lit/index.js").a),nightingale_base_element=NightingaleElement;__webpack_exports__.b=nightingale_base_element},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./NightingaleManager.stories.ts":"./stories/NightingaleManager.stories.ts","./NightingaleNavigation.stories.ts":"./stories/NightingaleNavigation.stories.ts","./NightingaleSequence.stories.ts":"./stories/NightingaleSequence.stories.ts"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports,__webpack_require__){var map={"./NightingaleManager.stories.mdx":"./stories/NightingaleManager.stories.mdx","./NightingaleNavigation.stories.mdx":"./stories/NightingaleNavigation.stories.mdx","./NightingaleSequence.stories.mdx":"./stories/NightingaleSequence.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./stories/NightingaleManager.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleManager/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-manager\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-manager.svg)](https://www.npmjs.com/package/nightingale-manager)\n\nIt is a container for all the tracks and other inner components (e.g. nightingale-navigation).\n\nThis component is in charge of capturing the events that its descendent trigger, and adjust registered element attributes accordingly.\n\nThe children should fire events of the type change, and the detail object should contain the attributes `type` and `value`.\n\nAdditionally, there are a set of pre-defined attributes which can be used with this component and will be propagated to descendents: `display-start`, `display-end`, `highlight` and `length`. This is useful if you want to control things like zoom level from outside, for instance directly from your application.\n\nSee it running [Here](https://ebi-webcomponents.github.io/nightingale/#/manager).\n\n## Usage\n\n```html\n<nightingale-manager reflected-attributes="attr1 attr2"></nightingale-manager>\n```\n\nHere is an example of how the child components should fire the events:\n\n```javascript\nthis.dispatchEvent(\n  new CustomEvent("change", {\n    detail: {\n      value: "New value",\n      type: "attr1",\n    },\n  })\n);\n```\n\n## API Reference\n\n### Properties\n\n#### `register(element: NightingaleElement)`: register an element with `nightingale-manager`. Only registered elements get their attributes updated.\n\n#### `unregister(element: NightingaleElement)`: remove an element from the list of registered elements.\n\n### Attributes\n\n#### `reflected-attributes: string`: comma-separated list of attributes which should be reflected on the registered child components.\n\n#### `display-start?: number`\n\n#### `display-end?: number`\n\n#### `highlight?: start:end,start:end,...`\n\n#### `length?: number`\n\nList of attributes that this component will be propagating.\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleManager/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleManager.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Manager",(function(){return Manager}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var NightingaleManager_1,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./packages/nightingale-navigation/src/index.ts"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),decorators=__webpack_require__("./node_modules/lit/decorators.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var NightingaleManager=NightingaleManager_1=function(_NightingaleElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleManager,_NightingaleElement);var _super=_createSuper(NightingaleManager);function NightingaleManager(){var _this;return _classCallCheck(this,NightingaleManager),(_this=_super.apply(this,arguments))["reflected-attributes"]=new Map,_this.protvistaElements=new Set,_this.propertyValues=new Map,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleManager,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(NightingaleManager.prototype),"connectedCallback",this).call(this),this.addEventListener("change",this.changeListener)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(attr,previousValue,newValue){_get(_getPrototypeOf(NightingaleManager.prototype),"attributeChangedCallback",this).call(this,attr,previousValue,newValue),this.applyAttributes()}},{key:"applyAttributes",value:function applyAttributes(){var _this2=this;this.protvistaElements.forEach((function(element){var _a;null===(_a=_this2["reflected-attributes"])||void 0===_a||_a.forEach((function(value,type){!1===value||null==value?element.removeAttribute(type):element.setAttribute(type,"boolean"==typeof value?"":value)})),_this2.length&&element.setAttribute("length",""+_this2.length),_this2["display-end"]&&element.setAttribute("display-end",""+_this2["display-end"]),_this2["display-start"]&&element.setAttribute("display-start",""+_this2["display-start"]),_this2.highlight&&element.setAttribute("highlight",_this2.highlight)}))}},{key:"register",value:function register(element){this.protvistaElements.add(element),this.applyAttributes()}},{key:"unregister",value:function unregister(element){this.protvistaElements.delete(element)}},{key:"applyProperties",value:function applyProperties(forElementId){var _this3=this;if(forElementId){var element=this.querySelector("#"+forElementId);if(!element)return;this.propertyValues.forEach((function(value,type){element[type]=value}))}else this.protvistaElements.forEach((function(element){element&&_this3.propertyValues.forEach((function(value,type){element[type]=value}))}))}},{key:"isRegisteredAttribute",value:function isRegisteredAttribute(attributeName){return!!this["reflected-attributes"]&&(_toConsumableArray(this["reflected-attributes"].keys()).includes(attributeName)||NightingaleManager_1.observedAttributes.includes(attributeName))}},{key:"changeListener",value:function changeListener(e){var _a,_this4=this;if(e.detail)if("property"===e.detail.handler)this.propertyValues.set(e.detail.type,e.detail.value),this.applyProperties(e.detail.for);else this.isRegisteredAttribute(e.detail.type)&&(null===(_a=this["reflected-attributes"])||void 0===_a||_a.set(e.detail.type,e.detail.value)),Object.keys(e.detail).forEach((function(key){var _a;_this4.isRegisteredAttribute(key)&&(null===(_a=_this4["reflected-attributes"])||void 0===_a||_a.set(key,e.detail[key]))})),this.applyAttributes()}}]),NightingaleManager}(nightingale_new_core_src.b);Object(tslib_es6.c)([Object(decorators.b)({converter:{fromAttribute:function fromAttribute(value){if(!value)return null;var attributes=value.split(",");if(-1!==attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");return new Map(attributes.filter((function(attr){return!NightingaleManager_1.observedAttributes.includes(attr)})).map((function(attr){return[attr,null]})))},toAttribute:function toAttribute(value){return value.join(",")}}})],NightingaleManager.prototype,"reflected-attributes",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"length",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"display-start",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:Number})],NightingaleManager.prototype,"display-end",void 0),Object(tslib_es6.c)([Object(decorators.b)({type:String})],NightingaleManager.prototype,"highlight",void 0),Object(tslib_es6.c)([Object(decorators.c)()],NightingaleManager.prototype,"protvistaElements",void 0),Object(tslib_es6.c)([Object(decorators.c)()],NightingaleManager.prototype,"propertyValues",void 0);var _templateObject;NightingaleManager=NightingaleManager_1=Object(tslib_es6.c)([Object(decorators.a)("nightingale-manager")],NightingaleManager);__webpack_exports__.default={parameters:{storySource:{source:'import { html } from "lit-html";\nimport "../packages/nightingale-navigation/src/index.ts";\nimport "../packages/nightingale-manager/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleManager",\n};\nconst defaultSequence =\n  "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\n\nconst Template = (args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n    </nightingale-manager>\n    <script>\n      customElements.whenDefined("nightingale-sequence").then(() => {\n        if (document.getElementById("sequence"))\n          document.getElementById("sequence").fixedHighlight = "10:20";\n      });\n      customElements.whenDefined("nightingale-navigation").then(() => {\n        if (document.getElementById("navigation"))\n          document.getElementById("navigation").fixedHighlight = "10:20";\n      });\n    <\/script>\n  `;\n};\n\nexport const Manager = Template.bind({});\nManager.args = {\n  width: "800",\n  height: "50",\n  length: defaultSequence.length,\n  sequence: defaultSequence,\n  "display-start": "10",\n  "display-end": "80",\n  "highlight-color": "#EB3BFF22",\n  "margin-color": "transparent",\n};\n',locationsMap:{manager:{startLoc:{col:17,line:11},endLoc:{col:1,line:56},startBody:{col:17,line:11},endBody:{col:1,line:56}}}}},title:"Nightingale/NightingaleManager"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASViubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",Manager=function Template(args){var width=args.width,height=args.height,length=args.length,sequence=args.sequence;return Object(lit_html.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-color=',"\n          margin-color=",'\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=','\n          width="','"\n          height=','\n          length="','"\n          display-start="','"\n          display-end="','"\n          highlight-event="onmouseover"\n          highlight-color=',"\n          margin-color=",'\n        >\n        </nightingale-sequence>\n      </div>\n    </nightingale-manager>\n    <script>\n      customElements.whenDefined("nightingale-sequence").then(() => {\n        if (document.getElementById("sequence"))\n          document.getElementById("sequence").fixedHighlight = "10:20";\n      });\n      customElements.whenDefined("nightingale-navigation").then(() => {\n        if (document.getElementById("navigation"))\n          document.getElementById("navigation").fixedHighlight = "10:20";\n      });\n    <\/script>\n  '])),width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"],sequence,width,height,length,args["display-start"],args["display-end"],args["highlight-color"],args["margin-color"])}.bind({});Manager.args={width:"800",height:"50",length:defaultSequence.length,sequence:defaultSequence,"display-start":"10","display-end":"80","highlight-color":"#EB3BFF22","margin-color":"transparent"},Manager.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, sequence } = args;\n  return html`\n    <nightingale-manager>\n      <div style="line-height: 0">\n        <nightingale-navigation\n          id="navigation"\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n          show-highlight\n        >\n        </nightingale-navigation>\n      </div>\n      <div style="line-height: 0">\n        <nightingale-sequence\n          id="sequence"\n          sequence=${sequence}\n          width="${width}"\n          height=${height}\n          length="${length}"\n          display-start="${args["display-start"]}"\n          display-end="${args["display-end"]}"\n          highlight-event="onmouseover"\n          highlight-color=${args["highlight-color"]}\n          margin-color=${args["margin-color"]}\n        >\n        </nightingale-sequence>\n      </div>\n    </nightingale-manager>\n    <script>\n      customElements.whenDefined("nightingale-sequence").then(() => {\n        if (document.getElementById("sequence"))\n          document.getElementById("sequence").fixedHighlight = "10:20";\n      });\n      customElements.whenDefined("nightingale-navigation").then(() => {\n        if (document.getElementById("navigation"))\n          document.getElementById("navigation").fixedHighlight = "10:20";\n      });\n    <\/script>\n  `;\n}'}},Manager.parameters)},"./stories/NightingaleNavigation.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleNavigation/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-navigation\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-navigation.svg)](https://www.npmjs.com/package/nightingale-navigation)\n\nThis custom element can be used to zoom and navigate along the sequence displayed in Nightingale. When a user interacts with the component, a `change` event is triggered which <nightingale-manager> uses to change `display-start` and `display-end` values on relevant custom elements.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/navigation)\n\n## Usage\n\n```html\n<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlightStart="23"\n  highlightEnd="45"\n  rulerstart="50"\n/>\n```\n\n## API Reference\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### `display-start: number (optional)`\n\nThe start position of the selected region.\n\n#### `display-end: number (optional)`\n\nThe end position of the selected region.\n\n#### `highlightStart: number (optional)`\n\nThe start position of the highlighted region.\n\n#### `highlightEnd: number (optional)`\n\nThe end position of the highlighted region.\n\n#### `rulerstart: number (optional)`\n\nThe starting coordinate of the ruler.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleNavigation/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleNavigation.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Navigation",(function(){return Navigation})),__webpack_require__.d(__webpack_exports__,"DifferentSelection",(function(){return DifferentSelection})),__webpack_require__.d(__webpack_exports__,"NavigationNoControls",(function(){return NavigationNoControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_templateObject2,lit_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lit-html/lit-html.js");__webpack_require__("./packages/nightingale-navigation/src/index.ts");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}__webpack_exports__.default={parameters:{storySource:{source:'import { html } from "lit-html";\nimport "../packages/nightingale-navigation/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleNavigation",\n};\n\nconst Template = (args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n};\n\nexport const Navigation = Template.bind({});\nNavigation.args = {\n  width: "500",\n  height: "100",\n  length: "456",\n  "display-start": "100",\n  "display-end": "200",\n  highlight: "23:45",\n  rulerstart: "50",\n};\n\nexport const DifferentSelection = Template.bind({});\nDifferentSelection.args = {\n  ...Navigation.args,\n  "display-start": "300",\n  "display-end": "350",\n};\n\nexport const NavigationNoControls = () => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`;\n',locationsMap:{navigation:{startLoc:{col:17,line:8},endLoc:{col:1,line:19},startBody:{col:17,line:8},endBody:{col:1,line:19}},"different-selection":{startLoc:{col:17,line:8},endLoc:{col:1,line:19},startBody:{col:17,line:8},endBody:{col:1,line:19}},"navigation-no-controls":{startLoc:{col:36,line:39},endLoc:{col:3,line:45},startBody:{col:36,line:39},endBody:{col:3,line:45}}}}},title:"Nightingale/NightingaleNavigation"};var Template=function Template(args){var width=args.width,height=args.height,length=args.length,highlight=args.highlight,rulerstart=args.rulerstart;return Object(lit_html__WEBPACK_IMPORTED_MODULE_3__.b)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(['<nightingale-navigation\n    width="','"\n    height=','\n    length="','"\n    display-start=',"\n    display-end=","\n    highlight=","\n    rulerstart=","\n  ></nightingale-navigation>"])),width,height,length,args["display-start"],args["display-end"],highlight,rulerstart)},Navigation=Template.bind({});Navigation.args={width:"500",height:"100",length:"456","display-start":"100","display-end":"200",highlight:"23:45",rulerstart:"50"};var DifferentSelection=Template.bind({});DifferentSelection.args=Object.assign({},Navigation.args,{"display-start":"300","display-end":"350"});var NavigationNoControls=function NavigationNoControls(){return Object(lit_html__WEBPACK_IMPORTED_MODULE_3__.b)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(['<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>'])))};Navigation.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},Navigation.parameters),DifferentSelection.parameters=Object.assign({storySource:{source:'(args) => {\n  const { width, height, length, highlight, rulerstart } = args;\n  return html`<nightingale-navigation\n    width="${width}"\n    height=${height}\n    length="${length}"\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    rulerstart=${rulerstart}\n  ></nightingale-navigation>`;\n}'}},DifferentSelection.parameters),NavigationNoControls.parameters=Object.assign({storySource:{source:'() => html`<nightingale-navigation\n  length="456"\n  display-start="143"\n  display-end="400"\n  highlight="23:45"\n  rulerstart="1"\n/>`'}},NavigationNoControls.parameters)},"./stories/NightingaleSequence.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.c,{title:"Nightingale/NightingaleSequence/Readme",mdxType:"Meta"}),Object(esm.b)(dist_esm.b,{mdxType:"Description"},'# nightingale-sequence\n\n[![Published on NPM](https://img.shields.io/npm/v/nightingale-sequence.svg)](https://www.npmjs.com/package/nightingale-sequence)\n\nThis custom element displays the sequence in the selected region if the zoom level allows it, otherwise it displays the axis legend of the selected region. As it inherits from <nightingale-zoomable>, it supports highlighting.\n\n[Demo](https://ebi-webcomponents.github.io/nightingale/#/sequence)\n\n## Usage\n\n#### Setting sequence through property\n\n```html\n<nightingale-sequence length="456" />\n```\n\n```\nconst nightingaleSequence = document.querySelectAll(\'#my-nightingale-sequence-id\');\nnightingaleSequence.sequence = proteinSequence;\n```\n\n#### Setting sequence through attribute\n\n```html\n<nightingale-sequence length="456" sequence="RFQAEGSLKK..." />\n```\n\n## API Reference\n\n### Properties\n\n#### `sequence: string`\n\nThe sequence to display\n\n#### `length: number`\n\nThe protein or nucleic acid sequence length.\n\n#### also see [nightingale-zoomable](https://github.com/ebi-webcomponents/nightingale/blob/master/packages/nightingale-zoomable/README.md#properties)\n'))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Nightingale/NightingaleSequence/Readme",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},"./stories/NightingaleSequence.stories.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Sequence",(function(){return Sequence})),__webpack_require__.d(__webpack_exports__,"SeqeunceNoControls",(function(){return NightingaleSequence_stories_SeqeunceNoControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,_NightingaleSequence_seq_bg,_NightingaleSequence_axis,_NightingaleSequence_seq_g,_NightingaleSequence_highlighted,_NightingaleSequence_margins,_NightingaleSequence_bases,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js"),tslib_es6=(__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.get.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-integer.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.weak-map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),src=__webpack_require__("./node_modules/d3/src/index.js"),nightingale_new_core_src=__webpack_require__("./packages/nightingale-new-core/src/index.ts");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var nightingale_sequence_NightingaleSequence=function(_withManager){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NightingaleSequence,_withManager);var _super=_createSuper(NightingaleSequence);function NightingaleSequence(){var _this;return _classCallCheck(this,NightingaleSequence),_this=_super.apply(this,arguments),_NightingaleSequence_seq_bg.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_axis.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_seq_g.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_highlighted.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_margins.set(_assertThisInitialized(_this),void 0),_NightingaleSequence_bases.set(_assertThisInitialized(_this),void 0),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NightingaleSequence,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this;_get(_getPrototypeOf(NightingaleSequence.prototype),"connectedCallback",this).call(this);var ticks=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(ticks)?ticks:3,this.sequence&&this.createSequence(),this.addEventListener("load",(function(e){_this2.data=e.detail.payload}))}},{key:"data",get:function get(){return this.sequence||""},set:function set(data){"string"==typeof data?this.sequence=data:"string"==typeof(null==data?void 0:data.sequence)&&(this.sequence=data.sequence),this.sequence&&!this.svg?this.createSequence():this.renderD3()}},{key:"getCharSize",value:function getCharSize(){var _a,_b;if(Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f")){var node=Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").select("text.base").node();if(node)this.chWidth=.8*node.getBBox().width,this.chHeight=1.6*node.getBBox().height;else{var tempNode=Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").append("text").attr("class","base").text("T");this.chWidth=.8*((null===(_a=tempNode.node())||void 0===_a?void 0:_a.getBBox().width)||0),this.chHeight=1.6*((null===(_b=tempNode.node())||void 0===_b?void 0:_b.getBBox().height)||0),tempNode.remove()}}}},{key:"createSequence",value:function createSequence(){var _a,_b,_c,_this3=this;this.svg=Object(src.d)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),Object(tslib_es6.b)(this,_NightingaleSequence_seq_bg,null===(_a=this.svg)||void 0===_a?void 0:_a.append("g").attr("class","background"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_axis,null===(_b=this.svg)||void 0===_b?void 0:_b.append("g").attr("class","x axis"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_seq_g,null===(_c=this.svg)||void 0===_c?void 0:_c.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_highlighted,this.svg.append("g").attr("class","highlighted"),"f"),Object(tslib_es6.b)(this,_NightingaleSequence_margins,this.svg.append("g").attr("class","margin"),"f"),requestAnimationFrame((function(){_this3.renderD3()}))}},{key:"firstUpdated",value:function firstUpdated(){this.createSequence()}},{key:"zoomRefreshed",value:function zoomRefreshed(){this.renderD3()}},{key:"renderD3",value:function renderD3(){var _a,_b,_this4=this;if(this.getCharSize(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f")){var ftWidth=this.getSingleBaseWidth(),space=ftWidth-(this.chWidth||0),half=ftWidth/2,first=Math.floor(Math.max(0,this.getStart()-1)),last=Math.ceil(Math.min((null===(_a=this.sequence)||void 0===_a?void 0:_a.length)||0,this.getEnd())),bases=space<0?[]:(null===(_b=this.sequence)||void 0===_b?void 0:_b.slice(first,last).split("").map((function(aa,i){return{position:1+first+i,aa:aa}})))||[];if(this.height>(this.chWidth||0)&&this.xScale){var xAxis=Object(src.a)(this.xScale).tickFormat((function(d){return""+(Number.isInteger(d)?d:"")})).ticks(this.numberOfTicks,"s");Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").call(xAxis)}if(Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").attr("transform","translate("+(this["margin-left"]+half)+","+this["margin-top"]+")"),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").select(".domain").remove(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").selectAll(".tick line").remove(),Object(tslib_es6.a)(this,_NightingaleSequence_axis,"f").selectAll(".tick text").attr("y",2),Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f")){Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),Object(tslib_es6.b)(this,_NightingaleSequence_bases,Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").selectAll("text.base"),"f");var textElements=Object(tslib_es6.a)(this,_NightingaleSequence_bases,"f").data(bases,(function(d){return d.position}));if(textElements.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})).text((function(d){return d.aa})).style("pointer-events","none").style("font-family","monospace"),textElements.exit().remove(),textElements.attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)+half})),Object(tslib_es6.a)(this,_NightingaleSequence_seq_bg,"f")){var background=Object(tslib_es6.a)(this,_NightingaleSequence_seq_bg,"f").selectAll("rect.base_bg").data(bases,(function(d){return d.position}));background.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]).call(nightingale_new_core_src.a,this),background.attr("width",ftWidth).attr("fill",(function(d){return Math.round(d.position)%2?"#ccc":"#eee"})).attr("height",this.getHeightWithMargins()).attr("x",(function(d){return _this4.getXFromSeqPosition(d.position)})).attr("y",this["margin-top"]),background.exit().remove(),Object(tslib_es6.a)(this,_NightingaleSequence_seq_g,"f").style("opacity",Math.min(1,space)),background.style("opacity",Math.min(1,space))}}this.renderHighlight(),this.renderMarginOnGroup(Object(tslib_es6.a)(this,_NightingaleSequence_margins,"f"))}}},{key:"getStart",value:function getStart(){return this["display-start"]||1}},{key:"getEnd",value:function getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}},{key:"renderHighlight",value:function renderHighlight(){var _this5=this;if(Object(tslib_es6.a)(this,_NightingaleSequence_highlighted,"f")){var highlighs=Object(tslib_es6.a)(this,_NightingaleSequence_highlighted,"f").selectAll("rect").data(this.highlightedRegion.segments);highlighs.enter().append("rect").style("pointer-events","none").merge(highlighs).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(function(d){return _this5.getXFromSeqPosition(d.start)})).attr("width",(function(d){return _this5.getSingleBaseWidth()*(d.end-d.start+1)})),highlighs.exit().remove()}}},{key:"render",value:function render(){return Object(lit.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['<svg class="container"></svg>'])))}}]),NightingaleSequence}(Object(nightingale_new_core_src.e)(Object(nightingale_new_core_src.i)(Object(nightingale_new_core_src.h)(Object(nightingale_new_core_src.f)(Object(nightingale_new_core_src.g)(Object(nightingale_new_core_src.c)(Object(nightingale_new_core_src.d)(nightingale_new_core_src.b))))))));_NightingaleSequence_seq_bg=new WeakMap,_NightingaleSequence_axis=new WeakMap,_NightingaleSequence_seq_g=new WeakMap,_NightingaleSequence_highlighted=new WeakMap,_NightingaleSequence_margins=new WeakMap,_NightingaleSequence_bases=new WeakMap,Object(tslib_es6.c)([Object(decorators.b)({type:String})],nightingale_sequence_NightingaleSequence.prototype,"sequence",void 0);var NightingaleSequence_stories_templateObject,_templateObject2,_templateObject3;nightingale_sequence_NightingaleSequence=Object(tslib_es6.c)([Object(decorators.a)("nightingale-sequence")],nightingale_sequence_NightingaleSequence);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function NightingaleSequence_stories_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}__webpack_exports__.default={parameters:{storySource:{source:'import { html } from "lit-html";\nimport "../packages/nightingale-sequence/src/index.ts";\n\nexport default {\n  title: "Nightingale/NightingaleSequence",\n};\nconst defaultSequence = "iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV";\nconst Template = (args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n};\n\nexport const Sequence = Template.bind({});\nSequence.args = {\n  sequence: defaultSequence,\n  width: "500",\n  height: "100",\n  length: defaultSequence.length,\n  "display-start": "20",\n  "display-end": "40",\n  highlight: "23:45",\n};\n\n// export const DifferentSelection = Template.bind({});\n// DifferentSelection.args = {\n//   ...Navigation.args,\n//   "display-start": "300",\n//   "display-end": "350",\n// };\n\nconst coordinates = [\n  [1.6, 5],\n  [6, 13],\n  [43, 50],\n  [10, 30],\n  [1, 50],\n];\nexport const SeqeunceNoControls = () =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `;\n',locationsMap:{sequence:{startLoc:{col:17,line:8},endLoc:{col:1,line:19},startBody:{col:17,line:8},endBody:{col:1,line:19}},"seqeunce-no-controls":{startLoc:{col:34,line:46},endLoc:{col:8,line:60},startBody:{col:34,line:46},endBody:{col:8,line:60}}}}},title:"Nightingale/NightingaleSequence"};var defaultSequence="iubcbcIUENACBPAOUBCASFUBRUABBRWOAUVBISVBAISBVDOASV",Sequence=function Template(args){var sequence=args.sequence,width=args.width,height=args.height,length=args.length,highlight=args.highlight;return Object(lit_html.b)(NightingaleSequence_stories_templateObject||(NightingaleSequence_stories_templateObject=NightingaleSequence_stories_taggedTemplateLiteralLoose(["<nightingale-sequence\n    sequence=","\n    display-start=","\n    display-end=","\n    highlight=",'\n    width="','"\n    height=','\n    length="','"\n  ></nightingale-sequence>'])),sequence,args["display-start"],args["display-end"],highlight,width,height,length)}.bind({});Sequence.args={sequence:defaultSequence,width:"500",height:"100",length:defaultSequence.length,"display-start":"20","display-end":"40",highlight:"23:45"};var coordinates=[[1.6,5],[6,13],[43,50],[10,30],[1,50]],NightingaleSequence_stories_SeqeunceNoControls=function SeqeunceNoControls(){return Object(lit_html.b)(_templateObject2||(_templateObject2=NightingaleSequence_stories_taggedTemplateLiteralLoose(["<h3>Same sequence with different coordinates</h3>\n    "," "])),coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,2),start=_ref2[0],end=_ref2[1];return Object(lit_html.b)(_templateObject3||(_templateObject3=NightingaleSequence_stories_taggedTemplateLiteralLoose(["\n        <nightingale-sequence\n          sequence=",'\n          width="800"\n          height="40"\n          length=',"\n          display-start=","\n          display-end=",'\n          highlight="3:15"\n        ></nightingale-sequence>\n      '])),defaultSequence,defaultSequence.length,start,end)})))};Sequence.parameters=Object.assign({storySource:{source:'(args) => {\n  const { sequence, width, height, length, highlight } = args;\n  return html`<nightingale-sequence\n    sequence=${sequence}\n    display-start=${args["display-start"]}\n    display-end=${args["display-end"]}\n    highlight=${highlight}\n    width="${width}"\n    height=${height}\n    length="${length}"\n  ></nightingale-sequence>`;\n}'}},Sequence.parameters),NightingaleSequence_stories_SeqeunceNoControls.parameters=Object.assign({storySource:{source:'() =>\n  html`<h3>Same sequence with different coordinates</h3>\n    ${coordinates.map(\n      ([start, end]) => html`\n        <nightingale-sequence\n          sequence=${defaultSequence}\n          width="800"\n          height="40"\n          length=${defaultSequence.length}\n          display-start=${start}\n          display-end=${end}\n          highlight="3:15"\n        ></nightingale-sequence>\n      `\n    )} `'}},NightingaleSequence_stories_SeqeunceNoControls.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/web-components/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);